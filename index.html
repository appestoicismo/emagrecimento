<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hipnose do Emagrecimento - Reprograme seu cérebro para emagrecer sem esforço</title>
    
    <!-- Facebook Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '1042117324521315');
      fbq('track', 'PageView');
    </script>
    <!-- End Facebook Pixel Code -->
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: 'oklch(1 0 0)',
                        foreground: 'oklch(0.145 0 0)',
                        primary: 'oklch(0.205 0 0)',
                        'primary-foreground': 'oklch(0.985 0 0)',
                        secondary: 'oklch(0.97 0 0)',
                        'secondary-foreground': 'oklch(0.205 0 0)',
                        muted: 'oklch(0.97 0 0)',
                        'muted-foreground': 'oklch(0.556 0 0)',
                        accent: 'oklch(0.97 0 0)',
                        'accent-foreground': 'oklch(0.205 0 0)',
                        destructive: 'oklch(0.577 0.245 27.325)',
                        border: 'oklch(0.922 0 0)',
                        input: 'oklch(0.922 0 0)',
                        ring: 'oklch(0.708 0 0)',
                    }
                }
            }
        }
    </script>
    
    <style>
        .btn {
            @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
        }
        .btn-primary {
            @apply bg-primary text-primary-foreground hover:bg-primary/90;
        }
        .btn-outline {
            @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
        }
        .btn-lg {
            @apply h-11 rounded-md px-8;
        }
        .btn-xl {
            @apply h-14 px-8 text-lg;
        }
        .btn-2xl {
            @apply h-16 px-8 text-xl;
        }

        /* Carousel Styles */
        .carousel-container {
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .carousel-slide {
            min-width: 100%;
            padding: 0 1rem;
        }
        
        @media (min-width: 768px) {
            .carousel-slide {
                min-width: 33.333%;
            }
        }
        
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: background 0.3s;
        }
        
        .carousel-button:hover {
            background: rgba(0, 0, 0, 0.8);
        }
        
        .carousel-button.prev {
            left: 10px;
        }
        
        .carousel-button.next {
            right: 10px;
        }
        
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
        }
        
        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .carousel-dot.active {
            background: rgba(255, 255, 255, 1);
        }

        /* Touch support */
        .carousel-container {
            touch-action: pan-y;
        }

        /* Step number badge */
        .step-number {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1042117324521315&ev=PageView&noscript=1"
    /></noscript>
    
    <div id="app"></div>

    <script>
        // UTM Tracker
        function initUTMTracker() {
            const urlParams = new URLSearchParams(window.location.search);
            
            const defaultUTMs = {
                utm_source: 'FB',
                utm_campaign: '{{campaign.name}}|{{campaign.id}}',
                utm_medium: '{{adset.name}}|{{adset.id}}',
                utm_content: '{{ad.name}}|{{ad.id}}',
                utm_term: '{{placement}}',
                xcod: 'FBhQwK21wXxR{{campaign.name}}|{{campaign.id}}hQwK21wXxR{{adset.name}}|{{adset.id}}hQwK21wXxR{{ad.name}}|{{ad.id}}hQwK21wXxR{{placement}}'
            };
            
            if (!urlParams.has('utm_source')) {
                Object.entries(defaultUTMs).forEach(([key, value]) => {
                    if (!urlParams.has(key)) {
                        urlParams.set(key, value);
                    }
                });
                
                const newUrl = `${window.location.pathname}?${urlParams.toString()}`;
                window.history.replaceState({}, '', newUrl);
            }
            
            const utmData = {};
            urlParams.forEach((value, key) => {
                if (key.startsWith('utm_') || key === 'xcod') {
                    utmData[key] = value;
                }
            });
            
            localStorage.setItem('utmData', JSON.stringify(utmData));
            
            if (typeof fbq !== 'undefined' && Object.keys(utmData).length > 0) {
                fbq('trackCustom', 'UTMCaptured', utmData);
            }
        }

        // Carousel functionality
        let currentSlide = 0;
        let touchStartX = 0;
        let touchEndX = 0;

        function initCarousel() {
            const track = document.querySelector('.carousel-track');
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (!track) return;

            const slidesCount = slides.length;
            const isMobile = window.innerWidth < 768;
            const slidesToShow = isMobile ? 1 : 3;

            function updateCarousel() {
                const slideWidth = isMobile ? 100 : 33.333;
                track.style.transform = `translateX(-${currentSlide * slideWidth}%)`;
                
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }

            function nextSlide() {
                const maxSlide = isMobile ? slidesCount - 1 : slidesCount - slidesToShow;
                currentSlide = currentSlide >= maxSlide ? 0 : currentSlide + 1;
                updateCarousel();
            }

            function prevSlide() {
                const maxSlide = isMobile ? slidesCount - 1 : slidesCount - slidesToShow;
                currentSlide = currentSlide <= 0 ? maxSlide : currentSlide - 1;
                updateCarousel();
            }

            function goToSlide(index) {
                currentSlide = index;
                updateCarousel();
            }

            // Button events
            const prevBtn = document.querySelector('.carousel-button.prev');
            const nextBtn = document.querySelector('.carousel-button.next');
            
            if (prevBtn) prevBtn.addEventListener('click', prevSlide);
            if (nextBtn) nextBtn.addEventListener('click', nextSlide);

            // Dot events
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => goToSlide(index));
            });

            // Touch events for swipe
            const container = document.querySelector('.carousel-container');
            
            container.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });

            container.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                if (touchEndX < touchStartX - 50) {
                    nextSlide();
                }
                if (touchEndX > touchStartX + 50) {
                    prevSlide();
                }
            }
        }

        // App State
        let currentStep = 'home';
        let quizData = {};
        let currentQuestion = 0;

        // Função para gerar conteúdo personalizado do info1
        function getPersonalizedInfo1Content(userAnswer) {
            const contentVariations = {
                'limited_success': {
                    title: 'Desta vez, será diferente. Estamos mirando na causa raiz.',
                    text: [
                        'Você já emagreceu antes, mas sempre voltou a engordar rápido — às vezes recuperando ainda mais peso. Esse efeito sanfona acontece por um motivo específico: dietas tratam apenas o sintoma (o que você come), não a causa (por que você come).',
                        
                        'Pesquisas da Universidade de Stanford mostram que 85% das nossas escolhas alimentares são automáticas — o cérebro decide antes mesmo de você perceber. Quando você faz dieta, está lutando conscientemente contra padrões inconscientes. É uma batalha desigual que você sempre perde no longo prazo.',
                        
                        'A hipnoterapia reprograma esses padrões automáticos. Durante 21 dias, 15 minutos por dia, você ouve um áudio que acessa o subconsciente — onde esses comportamentos estão gravados — e instala novas instruções. Não é força de vontade. É reprogramação neural.',
                        
                        'O resultado prático? Pessoas que passaram pelo programa relatam: comer saudável sem esforço consciente, resistir a doces naturalmente, manter atividade física com prazer. A perda de peso acontece como consequência — 3 a 8kg no primeiro mês, de forma sustentável, sem o efeito sanfona.',
                        
                        'Desta vez você não vai lutar contra você mesmo. A mudança acontece de dentro para fora.'
                    ],
                    source: 'Baseado em estudos de Stanford, Harvard e literatura clínica de hipnoterapia'
                },

                'no_success': {
                    title: 'Desta vez, será diferente. Estamos mirando na causa raiz.',
                    text: [
                        'Você já tentou dietas, academia, aplicativos — mas nunca chegou ao seu peso ideal. Não é falta de disciplina. É que todos esses métodos atacam apenas o comportamento consciente, quando 95% das suas decisões alimentares vêm do inconsciente.',
                        
                        'Pense: você já sabe o que deveria comer. Sabe que precisa se exercitar. O problema não é conhecimento — é execução. E execução depende de padrões automáticos que estão programados no seu cérebro há anos: comer quando está ansioso, desistir na primeira dificuldade, associar comida com recompensa emocional.',
                        
                        'A hipnoterapia acessa diretamente esses padrões. Estudos clínicos mostram que a hipnose pode ser até 3 vezes mais eficaz que métodos tradicionais porque trabalha no nível onde as decisões realmente acontecem: o subconsciente. São 21 dias, 15 minutos por dia, reprogramando sua mente para substituição de hábitos e comportamentos para o emagrecimento.',
                        
                        'O que muda na prática? Pessoas relatam que pela primeira vez sentem controle real: não precisam "resistir" a tentações porque a vontade some naturalmente, exercitar-se deixa de ser sacrifício, comer bem se torna automático. A perda média é de 0,5 kg e 1 kg por semana. — dessa vez, de forma sustentável.',
                        
                        'Você vai conseguir porque agora está atacando o problema pela raiz.'
                    ],
                    source: 'Baseado em estudos de Stanford, Harvard e literatura clínica de hipnoterapia'
                },

                'not_yet': {
                    title: 'Você está começando certo. Pela causa raiz.',
                    text: [
                        'Você ainda não tentou emagrecer, e isso é uma vantagem. A maioria das pessoas perde anos testando dietas e academias — tudo focado no corpo — para depois descobrir que o verdadeiro problema está na mente. Você pode começar direto pela solução.',
                        
                        'Estudos da Universidade de Stanford mostram que 85% das escolhas alimentares são automáticas — decididas pelo subconsciente antes de você perceber. Por isso a maioria falha: tenta controlar conscientemente algo que é automático. É como tentar dirigir um carro pensando em cada movimento do pé no acelerador.',
                        
                        'A hipnoterapia programa sua mente desde o início para hábitos saudáveis. São 21 dias, 15 minutos por dia, instalando instruções direto no subconsciente: comer bem sem esforço, resistir a impulsos naturalmente, sentir prazer em atividade física. Você constrói a base certa desde o começo.',
                        
                        'O resultado? Você não vai passar pela frustração que a maioria passa. Não vai testar dez dietas diferentes. Não vai viver o efeito sanfona. Vai emagrecer de 0,5 kg e 1 kg por semana. de forma natural — porque sua mente já está programada para isso.',
                        
                        'Essa é a vantagem de começar pela causa raiz. Você evita anos de tentativa e erro.'
                    ],
                    source: 'Baseado em estudos de Stanford, Harvard e literatura clínica de hipnoterapia'
                }
            };

            return contentVariations[userAnswer] || contentVariations['limited_success'];
        }

        // Função para gerar conteúdo personalizado do info2
        function getPersonalizedInfo2Content(userAnswer) {
            const contentVariations = {
                'emotional_eating': {
                    title: 'Por que é tão difícil seguir a dieta?',
                    text: [
                        'Você revelou que seu maior desafio é seguir a dieta. Isso não acontece por falta de informação ou disciplina. Acontece porque seu cérebro aprendeu padrões automáticos de comer em resposta a emoções.',
                        
                        'Pesquisas de neurociência mostram que quando você sente estresse, tédio ou frustração, o cérebro busca recompensa imediata através da comida. É um circuito neural automático: emoção negativa → comer → alívio temporário. Esse padrão foi reforçado milhares de vezes ao longo dos anos.',
                        
                        'Quando você tenta seguir uma dieta usando apenas força de vontade consciente, está lutando contra anos de condicionamento automático. É por isso que você "quebra" a dieta — não é fraqueza, é biologia.',
                        
                        'A hipnoterapia reprograma esse circuito neural. Durante o estado hipnótico, implantamos novas associações: quando emoções negativas surgem, seu cérebro aprende respostas saudáveis — respirar fundo, caminhar, beber água. A comida deixa de ser a válvula de escape automática.',
                        
                        'O resultado prático? Pessoas relatam que conseguem seguir o plano alimentar naturalmente, sem aquela sensação de estar se privando. Os gatilhos emocionais perdem força. Seguir a dieta deixa de ser uma batalha diária e se torna um comportamento natural.'
                    ],
                    source: 'Baseado em estudos sobre comportamento alimentar e neuroplasticidade'
                },

                'portion_control': {
                    title: 'Por que você não consegue parar de comer doces?',
                    text: [
                        'Você revelou que seu maior desafio é parar de comer doces. Isso não é falta de força de vontade. Estudos mostram que o açúcar ativa os mesmos circuitos de recompensa no cérebro que substâncias viciantes.',
                        
                        'Quando você come doce, seu cérebro libera dopamina — o neurotransmissor do prazer. Com o tempo, o cérebro associa doce com alívio emocional, conforto, recompensa. É um padrão neural profundo: sentiu emoção → quer doce → come → alívio temporário → padrão reforçado.',
                        
                        'Toda vez que você "resiste" conscientemente ao doce, está gastando energia mental lutando contra um impulso automático. É desgastante. E na primeira queda de energia ou estresse, o impulso vence.',
                        
                        'A hipnoterapia desliga essa conexão neural. Durante o transe hipnótico, reprogramamos a associação entre emoções e doce. Implantamos novas preferências alimentares e fontes alternativas de prazer. Seu cérebro deixa de pedir doce automaticamente.',
                        
                        'O resultado? Pessoas relatam que a vontade de comer doce simplesmente diminui. Não é que você está resistindo com força de vontade — a vontade genuinamente some. Você passa na frente do doce e não sente aquele impulso avassalador. É libertador.'
                    ],
                    source: 'Baseado em estudos sobre dependência de açúcar e neurociência comportamental'
                },

                'cravings': {
                    title: 'Por que a ansiedade te faz comer?',
                    text: [
                        'Você revelou que come por ansiedade. Isso acontece porque seu sistema nervoso aprendeu a usar a comida como regulador emocional — é neurobiologia, não falta de controle.',
                        
                        'Quando você sente ansiedade, seu cérebro entra em modo de alerta. Comer — especialmente carboidratos — ativa o sistema parassimpático, que acalma o corpo. É um mecanismo de sobrevivência que foi distorcido: seu cérebro aprendeu que comida = segurança = calma.',
                        
                        'Esse padrão é tão automático que você muitas vezes nem percebe. Sentiu ansiedade, já está comendo. É um reflexo condicionado que roda sem você decidir conscientemente. Tentar controlar isso com força de vontade é como tentar não piscar.',
                        
                        'A hipnoterapia instala novos reguladores emocionais no seu subconsciente. Durante o transe, ensinamos seu cérebro outras formas de processar ansiedade — respiração, movimento, presença. Desativamos o reflexo automático de comer quando ansioso.',
                        
                        'O resultado? Pessoas relatam que quando a ansiedade surge, não sentem mais aquela compulsão de comer. O corpo aprende a se acalmar de outras formas. Você ganha controle real sobre a ansiedade sem usar comida como muleta emocional.'
                    ],
                    source: 'Baseado em estudos sobre ansiedade, regulação emocional e comportamento alimentar'
                },

                'late_night': {
                    title: 'Por que é tão difícil manter a atividade física?',
                    text: [
                        'Você revelou que seu maior desafio é manter a rotina de exercícios. Isso não acontece por preguiça. Acontece porque seu cérebro associa exercício com esforço, desconforto e sacrifício — e o cérebro humano é programado para evitar desconforto.',
                        
                        'Estudos de neurociência mostram que quando você pensa em se exercitar, áreas do cérebro ligadas ao esforço e desconforto são ativadas antes mesmo de você começar. Seu subconsciente cria resistência automática: arruma desculpas, sente preguiça, deixa para depois.',
                        
                        'Você pode até começar uma rotina de exercícios com motivação, mas motivação é consciente e temporária. Quando ela acaba, sobra apenas o padrão automático do cérebro: evitar desconforto. É por isso que você sempre para depois de algumas semanas.',
                        
                        'A hipnoterapia reprograma sua relação com movimento. Durante o transe, implantamos novas associações: exercício = energia, prazer, bem-estar. Seu subconsciente passa a buscar movimento, não evitar. A resistência automática desaparece.',
                        
                        'O resultado? Pessoas relatam que começam a sentir vontade genuína de se movimentar. Não é disciplina forçada — é que o corpo pede movimento. Exercício deixa de ser obrigação e vira fonte natural de prazer e energia.'
                    ],
                    source: 'Baseado em estudos sobre motivação, neuroplasticidade e comportamento motor'
                },

                'stress_eating': {
                    title: 'Por que saber não é suficiente para emagrecer?',
                    text: [
                        'Você revelou que sente falta de informação sobre como emagrecer. Mas a verdade é: você provavelmente já sabe mais do que precisa. O problema não é falta de informação — é que informação não muda comportamento automático.',
                        
                        'Estudos mostram que apenas 5% das nossas ações diárias são conscientes. Os outros 95% são automáticos, controlados pelo subconsciente. Você pode saber exatamente o que comer e como se exercitar, mas se o subconsciente não está programado para isso, você não consegue executar.',
                        
                        'É como saber dirigir teoricamente mas nunca ter treinado os reflexos automáticos. Ou saber que não deveria fumar, mas o corpo pede automaticamente. Conhecimento consciente não tem poder sobre padrões subconscientes.',
                        
                        'A hipnoterapia programa o subconsciente com os comportamentos que você já sabe que deveria ter. Durante o transe, transformamos conhecimento em ação automática. Instalamos os hábitos saudáveis como reflexos naturais, não como decisões que você precisa tomar conscientemente a cada momento.',
                        
                        'O resultado? Pessoas relatam que finalmente conseguem fazer o que sempre souberam que deveriam fazer. Não é força de vontade — é que o corpo executa automaticamente. Você age como uma pessoa naturalmente magra age, sem esforço consciente.'
                    ],
                    source: 'Baseado em estudos sobre formação de hábitos e mudança comportamental'
                }
            };

            return contentVariations[userAnswer] || contentVariations['emotional_eating'];
        }

        // Conditional follow-up questions for eating habits
        const eatingHabitsFollowUp = {
            'emotional_eating': {
                question: 'O que mais boicota sua dieta?',
                options: [
                    { value: 'emotional_eating_boredom', label: 'Manter meus hábitos atuais', icon: '😐' },
                    { value: 'emotional_eating_stress', label: 'Não resistir às tentações', icon: '😰' },
                    { value: 'emotional_eating_sadness', label: 'Ter sempre várias desculpas', icon: '😢' }
                ]
            },
            'portion_control': {
                question: 'O que mais te leva a comer doces?',
                options: [
                    { value: 'portion_control_chocolate', label: 'Comer doce como prêmio, conforto, válvula de escape', icon: '🎁' },
                    { value: 'portion_control_baked', label: 'Comer doce para gerenciar tensão, ansiedade', icon: '😰' },
                    { value: 'portion_control_candy', label: 'Comer doce por falta de propósito, distração, solidão', icon: '😐' }
                ]
            },
            'cravings': {
                question: 'Em que momento a ansiedade mais te faz comer?',
                options: [
                    { value: 'cravings_work', label: 'Durante o estresse do trabalho', icon: '💼' },
                    { value: 'cravings_evening', label: 'Por questões familiares', icon: '🌙' },
                    { value: 'cravings_social', label: 'Em situações sociais', icon: '👥' }
                ]
            },
            'late_night': {
                question: 'O que mais dificulta manter sua rotina de exercícios?',
                options: [
                    { value: 'late_night_lack_time', label: 'Sair da zona de conforto', icon: '⏰' },
                    { value: 'late_night_lack_energy', label: 'Falta de energia/disposição', icon: '😴' },
                    { value: 'late_night_lack_motivation', label: 'Falta de motivação', icon: '😔' }
                ]
            },
            'stress_eating': {
                question: 'Qual informação você sente que mais falta para emagrecer?',
                options: [
                    { value: 'stress_eating_diet', label: 'O que comer exatamente', icon: '🥗' },
                    { value: 'stress_eating_exercise', label: 'Quais exercícios fazer', icon: '🏋️' },
                    { value: 'stress_eating_mental', label: 'Como mudar meus hábitos e comportamentos', icon: '🧠' }
                ]
            }
        };

        // Quiz Questions
        const quizQuestions = [
            {
                id: 'gender',
                question: 'Comece selecionando seu gênero:',
                type: 'gender',
                options: [
                    { value: 'male', label: 'Masculino', icon: '♂' },
                    { value: 'female', label: 'Feminino', icon: '♀' }
                ]
            },
            {
                id: 'goal',
                question: 'Qual resultado positivo do emagrecimento você mais espera alcançar?',
                type: 'multiple',
                options: [
                    { value: 'self-esteem', label: 'Aumento da autoestima', icon: '💪' },
                    { value: 'movement', label: 'Mais disposição no dia', icon: '🏃' },
                    { value: 'looks', label: 'Melhora na aparência', icon: '✨' },
                    { value: 'longevity', label: 'Prevenção de doenças', icon: '❤️' },
                    { value: 'other', label: 'Outro', icon: '🎯' }
                ]
            },
            {
                id: 'past_tries',
                question: 'Você já tentou emagrecer antes?',
                type: 'multiple',
                options: [
                    { value: 'limited_success', label: 'Sim, mas sempre volto a engordar rápido', icon: '⏰' },
                    { value: 'no_success', label: 'Tentei de tudo, mas nunca cheguei no meu peso ideal', icon: '😔' },
                    { value: 'not_yet', label: 'Ainda não', icon: '🆕' }
                ]
            },
            {
                id: 'info1',
                question: 'Desta vez, será diferente. Estamos mirando na causa raiz.',
                type: 'info',
                isDynamic: true
            },
            {
                id: 'referral',
                question: 'Você foi indicado ao AppAutoHipnose por um nutricionista ou terapeuta TCC?',
                type: 'multiple',
                subtitle: 'A hipnose é um método cientificamente comprovado para resolver problemas relacionados à nutrição e questões psicológicas.',
                options: [
                    { value: 'yes', label: 'Sim', icon: '✅' },
                    { value: 'no', label: 'Não', icon: '❌' }
                ]
            },
            {
                id: 'age_range',
                question: 'Qual é a sua faixa etária?',
                type: 'multiple',
                options: [
                    { value: '18-25', label: '18-25 anos', icon: '🌱' },
                    { value: '26-35', label: '26-35 anos', icon: '🌿' },
                    { value: '36-45', label: '36-45 anos', icon: '🌳' },
                    { value: '46-55', label: '46-55 anos', icon: '🍃' },
                    { value: '56+', label: '56+ anos', icon: '🌰' }
                ]
            },
            {
                id: 'weight_goal',
                question: 'Quanto peso você gostaria de perder?',
                type: 'multiple',
                options: [
                    { value: '5-10kg', label: '5-10 kg', icon: '📉' },
                    { value: '11-20kg', label: '11-20 kg', icon: '📊' },
                    { value: '21-30kg', label: '21-30 kg', icon: '📈' },
                    { value: '31kg+', label: 'Mais de 31 kg', icon: '🎯' },
                    { value: 'unsure', label: 'Não tenho certeza', icon: '❓' }
                ]
            },
            {
                id: 'eating_habits',
                question: 'Qual é o seu maior desafio com o emagrecimento?',
                type: 'multiple',
                hasFollowUp: true,
                options: [
                    { value: 'emotional_eating', label: 'Seguir a dieta', icon: '😢' },
                    { value: 'portion_control', label: 'Deixar de comer doces', icon: '🍽️' },
                    { value: 'cravings', label: 'Comer por ansiedade', icon: '🍰' },
                    { value: 'late_night', label: 'Manter atividade física', icon: '🌙' },
                    { value: 'stress_eating', label: 'Não saber como emagrecer', icon: '😰' }
                ]
            },
            {
                id: 'info2',
                question: 'A verdadeira raiz do emagrecimento está no cérebro',
                type: 'info',
                image: 'https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/assaltogeladeira.png',
                isDynamic: true
            },
            {
                id: 'info3',
                question: 'Como funciona na prática?',
                type: 'info_steps',
                content: {
                    title: 'Como funciona na prática?',
                    subtitle: 'É mais simples do que você imagina',
                    steps: [
                        { 
                            image: 'https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/5.png',
                            text: 'Acesse o aplicativo AutoHipnose no seu celular'
                        },
                        { 
                            image: 'https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/2.png',
                            text: 'Coloque seu fone de ouvido e dê play no áudio'
                        },
                        { 
                            image: 'https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/3.png',
                            text: 'Pode ser na hora de dormir, no momento mais confortável'
                        },
                        { 
                            image: 'https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/4.png',
                            text: 'Ouça minha voz e deixe seu subconsciente trabalhar'
                        }
                    ],
                    footer: 'Apenas 15 minutos por dia durante 21 dias para reprogramar sua mente'
                }
            }
        ];

        // Functions
        function handleQuizAnswer(answer) {
            const currentQ = quizQuestions[currentQuestion];
            
            // Check if this question has a follow-up
            if (currentQ.hasFollowUp && eatingHabitsFollowUp[answer]) {
                // Save the main answer
                quizData[currentQ.id] = answer;
                // Show follow-up question
                showFollowUpQuestion(answer);
            } else {
                // Normal flow
                quizData[currentQ.id] = answer;
                
                if (currentQuestion < quizQuestions.length - 1) {
                    currentQuestion++;
                    renderApp();
                } else {
                    currentStep = 'result';
                    if (typeof fbq !== 'undefined') {
                        fbq('track', 'CompleteRegistration');
                    }
                    renderApp();
                }
            }
        }

        function handleFollowUpAnswer(mainAnswer, followUpAnswer) {
            // Save both answers
            quizData[`eating_habits_detail`] = followUpAnswer;
            
            // Find index of info2 question
            const info2Index = quizQuestions.findIndex(q => q.id === 'info2');
            
            // Go directly to info2
            if (info2Index !== -1) {
                currentQuestion = info2Index;
                currentStep = 'quiz';
                renderApp();
            }
        }

        function showFollowUpQuestion(mainAnswer) {
            const followUp = eatingHabitsFollowUp[mainAnswer];
            currentStep = 'followup';
            renderApp();
        }

        function goBack() {
            if (currentStep === 'followup') {
                currentStep = 'quiz';
                renderApp();
            } else if (currentQuestion > 0) {
                currentQuestion--;
                renderApp();
            } else {
                currentStep = 'home';
                renderApp();
            }
        }

        function startQuiz(gender) {
            quizData = { gender };
            currentStep = 'quiz';
            currentQuestion = 1;
            
            if (typeof fbq !== 'undefined') {
                fbq('track', 'Lead');
            }
            renderApp();
        }

        function handleCheckout() {
            if (typeof fbq !== 'undefined') {
                fbq('track', 'InitiateCheckout');
            }
            
            const baseUrl = 'https://pay.hotmart.com/N101998916J';
            const utmParams = new URLSearchParams(window.location.search);
            const checkoutUrl = utmParams.toString() ? `${baseUrl}?${utmParams.toString()}` : baseUrl;
            
            window.open(checkoutUrl, '_blank');
        }

        // Render Functions
        function renderHomePage() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <!-- Header -->
                    <header class="p-6">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" alt="Logo" class="w-8 h-8 rounded-full object-cover">
                            </div>
                            <span class="text-xl font-semibold">AppAutoHipnose</span>
                        </div>
                    </header>

                    <!-- Main Content -->
                    <div class="container mx-auto px-6 py-12">
                        <div class="grid lg:grid-cols-2 gap-12 items-center">
                            <!-- Left Column -->
                            <div class="space-y-8">
                                <div class="space-y-4">
                                    <h1 class="text-4xl lg:text-5xl font-bold leading-tight">
                                        O emagrecimento começa no cérebro
                                    </h1>
                                    <p class="text-lg text-gray-300">
                                        Não é esforço. É reprogramação. Com apenas 15 minutos, por 21 dias, sua mente muda... seus hábitos e comportamentos acompanham.
                                    </p>
                                </div>

                                <div class="space-y-4">
                                    <p class="text-lg font-medium">Comece selecionando seu gênero:</p>
                                    <div class="flex gap-4">
                                        <button 
                                            onclick="startQuiz('male')"
                                            class="btn btn-xl flex-1 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold border-2 border-blue-400"
                                        >
                                            ♂ Masculino
                                        </button>
                                        <button 
                                            onclick="startQuiz('female')"
                                            class="btn btn-xl flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold border-2 border-purple-400"
                                        >
                                            ♀ Feminino
                                        </button>
                                    </div>
                                </div>

                                <!-- Reviews -->
                                <div class="flex flex-col sm:flex-row items-center gap-4 sm:gap-6">
                                    <div class="flex -space-x-2">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/jussiara.jpeg" alt="Jussiara" class="w-10 h-10 rounded-full object-cover border-2 border-white">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/eloiza.jpeg" alt="Eloiza" class="w-10 h-10 rounded-full object-cover border-2 border-white">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/antonio.jpeg" alt="Antonio" class="w-10 h-10 rounded-full object-cover border-2 border-white">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/Luana.jpeg" alt="Luana" class="w-10 h-10 rounded-full object-cover border-2 border-white">
                                    </div>
                                    <div class="text-center sm:text-left">
                                        <div class="flex justify-center sm:justify-start text-yellow-400 text-sm">
                                            ★★★★★
                                        </div>
                                        <p class="text-sm text-gray-400">98% taxa de satisfação *baseado em entrevistas com usuários</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column - Image -->
                            <div class="relative">
                                <div class="relative rounded-2xl overflow-hidden bg-gradient-to-br from-purple-600 to-blue-600 p-1">
                                    <img 
                                        src="https://appestoicismo.github.io/hipnoseansiedade/apppordentro.png" 
                                        alt="Mulher usando fones de ouvido para hipnoterapia"
                                        class="w-full h-auto rounded-xl"
                                    />
                                </div>
                            </div>
                        </div>

                        <!-- Success Stories Section with Carousel -->
                        <div class="mt-20">
                            <h2 class="text-3xl font-bold text-center mb-12">
                                -Histórias reais, resultados reais-
                            </h2>
                            
                            <!-- Carousel Container -->
                            <div class="carousel-container relative max-w-6xl mx-auto">
                                <div class="carousel-track">
                                    <!-- Story 1 -->
                                    <div class="carousel-slide">
                                        <div class="bg-slate-800/50 rounded-2xl p-6 border border-slate-700 h-full">
                                            <div class="mb-4">
                                                <img 
                                                    src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/adriana.png" 
                                                    alt="Antes e depois - Transformação 1"
                                                    class="w-full h-auto object-contain rounded-lg"
                                                />
                                            </div>
                                            <p class="text-gray-300 mb-4 italic">
                                                "Este programa simplesmente reconfigurou algo em mim. Eu como melhor, me sinto melhor, e estou 6 kg mais leve."
                                            </p>
                                            <p class="text-sm text-gray-400">Adriana, 29</p>
                                        </div>
                                    </div>

                                    <!-- Story 2 -->
                                    <div class="carousel-slide">
                                        <div class="bg-slate-800/50 rounded-2xl p-6 border border-slate-700 h-full">
                                            <div class="mb-4">
                                                <img 
                                                    src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/lurdes.png" 
                                                    alt="Antes e depois - Transformação 2"
                                                    class="w-full h-auto object-contain rounded-lg"
                                                />
                                            </div>
                                            <p class="text-gray-300 mb-4 italic">
                                                "O que mais amo é como foi fácil. Sem planos rígidos ou remédios. Estou 5 kg mais magra, e faço caminhada todos os dias."
                                            </p>
                                            <p class="text-sm text-gray-400">Eloiza, 56</p>
                                        </div>
                                    </div>

                                    <!-- Story 3 -->
                                    <div class="carousel-slide">
                                        <div class="bg-slate-800/50 rounded-2xl p-6 border border-slate-700 h-full">
                                            <div class="mb-4">
                                                <img 
                                                    src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/armando.png" 
                                                    alt="Antes e depois - Transformação 3"
                                                    class="w-full h-auto object-contain rounded-lg"
                                                />
                                            </div>
                                            <p class="text-gray-300 mb-4 italic">
                                                "Ouvi o áudio por uma semana antes de dormir e simplesmente acordava com outras atitudes e desejos. Foi surpreendente pra mim."
                                            </p>
                                            <p class="text-sm text-gray-400">Antônio, 57</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Navigation Buttons -->
                                <button class="carousel-button prev" aria-label="Anterior">
                                    ‹
                                </button>
                                <button class="carousel-button next" aria-label="Próximo">
                                    ›
                                </button>

                                <!-- Dots Navigation -->
                                <div class="carousel-dots">
                                    <div class="carousel-dot active"></div>
                                    <div class="carousel-dot"></div>
                                    <div class="carousel-dot"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Footer -->
                    <footer class="bg-slate-900/50 border-t border-slate-700 py-8 mt-20">
                        <div class="container mx-auto px-6">
                            <div class="flex flex-wrap justify-between items-center">
                                <div class="flex items-center gap-2 mb-4 lg:mb-0">
                                    <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                       <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" alt="Logo" class="w-8 h-8 rounded-full object-cover">
                                    </div>
                                    <span class="text-xl font-semibold">AppAutoHipnose</span>
                                </div>
                                <div class="flex flex-wrap gap-6 text-sm">
                                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Avaliações</a>
                                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Gerenciar Assinatura</a>
                                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Contato</a>
                                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Política de Privacidade</a>
                                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Termos e Condições</a>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-slate-700 flex justify-between text-sm text-gray-400">
                                <p>© 2025 AppAutoHipnose. Todos os direitos reservados.</p>
                                <p>Aviso: Os resultados podem variar de pessoa para pessoa.</p>
                            </div>
                        </div>
                    </footer>
                </div>
            `;
        }

        function renderFollowUpPage() {
            const mainAnswer = quizData['eating_habits'];
            const followUp = eatingHabitsFollowUp[mainAnswer];
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;

            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <!-- Header with progress -->
                    <header class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <button 
                                onclick="goBack()"
                                class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800"
                            >
                                ← Voltar
                            </button>
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                    <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" alt="Logo" class="w-8 h-8 rounded-full object-cover">
                                </div>
                                <span class="text-xl font-semibold">AppAutoHipnose</span>
                            </div>
                            <span class="text-sm text-gray-400">${currentQuestion + 1} de ${quizQuestions.length}</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div 
                                class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"
                                style="width: ${progress}%"
                            ></div>
                        </div>
                    </header>

                    <!-- Quiz Content -->
                    <div class="container mx-auto px-6 py-12">
                        <div class="max-w-2xl mx-auto text-center">
                            <h2 class="text-3xl font-bold mb-8">${followUp.question}</h2>
                            <div class="space-y-4">
                                ${followUp.options.map((option, index) => {
                                    const gradients = [
                                        'bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 border-2 border-blue-400',
                                        'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 border-2 border-purple-400',
                                        'bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 border-2 border-green-400'
                                    ];
                                    return `
                                        <button
                                            onclick="handleFollowUpAnswer('${mainAnswer}', '${option.value}')"
                                            class="btn btn-2xl w-full text-left justify-start font-medium transition-all duration-200 ${gradients[index]}"
                                        >
                                            <span class="text-2xl mr-4">${option.icon}</span>
                                            ${option.label}
                                            <span class="ml-auto text-xl">→</span>
                                        </button>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuizPage() {
            const question = quizQuestions[currentQuestion];
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;

            if (question.type === 'info') {
                // Se a pergunta é dinâmica, busca o conteúdo personalizado
                let content;
                if (question.isDynamic) {
                    if (question.id === 'info1') {
                        content = getPersonalizedInfo1Content(quizData['past_tries']);
                    } else if (question.id === 'info2') {
                        content = getPersonalizedInfo2Content(quizData['eating_habits']);
                    }
                } else {
                    content = question.content;
                }
                
                const imageUrl = question.image || 'https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/cerebrointestino.jpeg';
                const altText = question.id === 'info2' ? 'Ilustração sobre controle de hábitos alimentares' : 'Ilustração do corpo humano mostrando conexão cérebro-intestino';
                
                return `
                    <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                        <!-- Header with progress -->
                        <header class="p-6">
                            <div class="flex items-center justify-between mb-4">
                                <button 
                                    onclick="goBack()"
                                    class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800"
                                >
                                    ← Voltar
                                </button>
                                <div class="flex items-center gap-2">
                                    <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" alt="Logo" class="w-8 h-8 rounded-full object-cover">
                                    </div>
                                    <span class="text-xl font-semibold">AppAutoHipnose</span>
                                </div>
                                <span class="text-sm text-gray-400">${currentQuestion + 1} de ${quizQuestions.length}</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div 
                                    class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"
                                    style="width: ${progress}%"
                                ></div>
                            </div>
                        </header>

                        <!-- Quiz Content -->
                        <div class="container mx-auto px-6 py-12">
                            <div class="max-w-4xl mx-auto">
                                <div class="grid lg:grid-cols-2 gap-12 items-center">
                                    <div class="space-y-6">
                                        <h2 class="text-3xl font-bold">${content.title}</h2>
                                        <div class="space-y-4">
                                            ${content.text.map(paragraph => `
                                                <p class="text-gray-300 leading-relaxed">${paragraph}</p>
                                            `).join('')}
                                        </div>
                                        <p class="text-sm text-gray-400 italic">${content.source}</p>
                                        <button 
                                            onclick="handleQuizAnswer('understood')"
                                            class="btn btn-xl w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold"
                                        >
                                            Entendi
                                        </button>
                                    </div>
                                    <div class="relative">
                                        <img 
                                            src="${imageUrl}" 
                                            alt="${altText}"
                                            class="w-full h-auto rounded-xl"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (question.type === 'info_steps') {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                        <!-- Header with progress -->
                        <header class="p-6">
                            <div class="flex items-center justify-between mb-4">
                                <button 
                                    onclick="goBack()"
                                    class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800"
                                >
                                    ← Voltar
                                </button>
                                <div class="flex items-center gap-2">
                                    <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" alt="Logo" class="w-8 h-8 rounded-full object-cover">
                                    </div>
                                    <span class="text-xl font-semibold">AppAutoHipnose</span>
                                </div>
                                <span class="text-sm text-gray-400">${currentQuestion + 1} de ${quizQuestions.length}</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div 
                                    class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"
                                    style="width: ${progress}%"
                                ></div>
                            </div>
                        </header>

                        <!-- Quiz Content -->
                        <div class="container mx-auto px-6 py-12">
                            <div class="max-w-2xl mx-auto">
                                <!-- Title and Subtitle -->
                                <div class="text-center mb-12">
                                    <h2 class="text-3xl font-bold mb-2">${question.content.title}</h2>
                                    <p class="text-xl text-gray-300">${question.content.subtitle}</p>
                                </div>
                                
                                <!-- Steps List (vertical for mobile) -->
                                <div class="space-y-6">
                                    ${question.content.steps.map((step, index) => `
                                        <div class="relative bg-slate-800/30 p-6 rounded-xl border border-slate-700">
                                            <!-- Step Number Badge -->
                                            <div class="step-number">${index + 1}</div>
                                            
                                            <!-- Step Image -->
                                            <div class="mb-4 mt-2">
                                                <img 
                                                    src="${step.image}" 
                                                    alt="Passo ${index + 1}"
                                                    class="w-full h-56 object-contain"
                                                />
                                            </div>
                                            
                                            <!-- Step Text -->
                                            <p class="text-lg text-gray-200 text-center">${step.text}</p>
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <!-- Footer Box -->
                                <div class="mt-8 bg-gradient-to-r from-blue-900/50 to-purple-900/50 p-6 rounded-xl border border-blue-700/50">
                                    <p class="text-center text-gray-200 font-medium text-lg">${question.content.footer}</p>
                                </div>
                                
                                <!-- CTA Button -->
                                <button 
                                    onclick="handleQuizAnswer('understood')"
                                    class="btn btn-xl w-full mt-8 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold"
                                >
                                    Entendi, Vamos Continuar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                        <!-- Header with progress -->
                        <header class="p-6">
                            <div class="flex items-center justify-between mb-4">
                                <button 
                                    onclick="goBack()"
                                    class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800"
                               >
                                    ← Voltar
                                </button>
                                <div class="flex items-center gap-2">
                                    <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                        <img src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" alt="Logo" class="w-8 h-8 rounded-full object-cover">
                                    </div>
                                    <span class="text-xl font-semibold">AppAutoHipnose</span>
                                </div>
                                <span class="text-sm text-gray-400">${currentQuestion + 1} de ${quizQuestions.length}</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div 
                                    class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"
                                    style="width: ${progress}%"
                                ></div>
                            </div>
                        </header>

                        <!-- Quiz Content -->
                        <div class="container mx-auto px-6 py-12">
                            <div class="max-w-2xl mx-auto text-center">
                                <h2 class="text-3xl font-bold mb-4">${question.question}</h2>
                                ${question.subtitle ? `<p class="text-gray-300 mb-8">${question.subtitle}</p>` : ''}
                                <div class="space-y-4">
                                    ${question.options.map((option, index) => {
                                        const gradients = [
                                            'bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 border-2 border-blue-400',
                                            'bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 border-2 border-orange-400',
                                            'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 border-2 border-purple-400',
                                            'bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 border-2 border-green-400',
                                            'bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 border-2 border-pink-400'
                                        ];
                                        return `
                                            <button
                                                onclick="handleQuizAnswer('${option.value}')"
                                                class="btn btn-2xl w-full text-left justify-start font-medium transition-all duration-200 ${gradients[index] || gradients[4]}"
                                            >
                                                <span class="text-2xl mr-4">${option.icon}</span>
                                                ${option.label}
                                                <span class="ml-auto text-xl">→</span>
                                            </button>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        function renderResultPage() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <div class="container mx-auto px-6 py-12">
                        <div class="max-w-2xl mx-auto text-center space-y-8">
                            <div class="space-y-4">
                                <h1 class="text-4xl font-bold">Parabéns!</h1>
                                <p class="text-xl text-gray-300">
                                    Seu programa personalizado de hipnoterapia está pronto
                                </p>
                            </div>
                            
                            <div class="bg-slate-800/50 rounded-2xl p-8 border border-slate-700">
                                <h2 class="text-2xl font-bold mb-4">Hipnose do Emagrecimento</h2>
                                <p class="text-gray-300 mb-6">
                                    Reprograme seu cérebro para emagrecer sem esforço com técnicas de hipnoterapia.
                                </p>
                                <div class="space-y-4">
                                    <div class="flex items-center gap-3 text-green-400">
                                        <span class="text-xl">✓</span>
                                        <span>Programa personalizado baseado em suas respostas</span>
                                    </div>
                                    <div class="flex items-center gap-3 text-green-400">
                                        <span class="text-xl">✓</span>
                                        <span>Técnicas cientificamente comprovadas</span>
                                    </div>
                                    <div class="flex items-center gap-3 text-green-400">
                                        <span class="text-xl">✓</span>
                                        <span>Resultados sem esforço consciente</span>
                                    </div>
                                    <div class="flex items-center gap-3 text-green-400">
                                        <span class="text-xl">✓</span>
                                        <span>Suporte 24/7 via aplicativo</span>
                                    </div>
                                    <div class="flex items-center gap-3 text-green-400">
                                        <span class="text-xl">✓</span>
                                        <span>Garantia de 7 dias</span>
                                    </div>
                                </div>
                            </div>

                            <button 
                                onclick="handleCheckout()"
                                class="btn btn-2xl w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold"
                            >
                                🎧 Destravar Meu Áudio Hipnótico
                            </button>

                            <p class="text-sm text-gray-400">
                                Acesso imediato após a confirmação do pagamento
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderApp() {
            const app = document.getElementById('app');
            
            switch (currentStep) {
                case 'home':
                    app.innerHTML = renderHomePage();
                    setTimeout(initCarousel, 100);
                    break;
                case 'quiz':
                    app.innerHTML = renderQuizPage();
                    break;
                case 'followup':
                    app.innerHTML = renderFollowUpPage();
                    break;
                case 'result':
                    app.innerHTML = renderResultPage();
                    break;
                default:
                    app.innerHTML = renderHomePage();
                    setTimeout(initCarousel, 100);
            }
        }

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initUTMTracker();
            renderApp();
        });
    </script>
</body>
</html>
