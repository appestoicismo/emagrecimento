<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hipnose do Emagrecimento - Reprograme seu C√©rebro para Emagrecer</title>
    
    <!-- Meta Description -->
    <meta name="description" content="Reprograme seu c√©rebro em 21 dias com hipnose para emagrecer. M√©todo cient√≠fico que muda 85% das suas escolhas autom√°ticas. Teste gr√°tis agora!">
    
    <!-- Preconnect para recursos externos -->
    <link rel="preconnect" href="https://connect.facebook.net">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="preconnect" href="https://pay.hotmart.com">
    
    <!-- Preload da imagem LCP (logo) -->
    <link rel="preload" as="image" href="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" fetchpriority="high">
    
    <!-- Facebook Pixel Code -->
    <script async>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '1042117324521315');
      fbq('track', 'PageView');
    </script>
    <noscript><img loading="lazy" height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1042117324521315&ev=PageView&noscript=1"
    /></noscript>
    
    <script defer src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: 'oklch(1 0 0)',
                        foreground: 'oklch(0.145 0 0)',
                        primary: 'oklch(0.205 0 0)',
                        'primary-foreground': 'oklch(0.985 0 0)',
                        secondary: 'oklch(0.97 0 0)',
                        'secondary-foreground': 'oklch(0.205 0 0)',
                        muted: 'oklch(0.97 0 0)',
                        'muted-foreground': 'oklch(0.556 0 0)',
                        accent: 'oklch(0.97 0 0)',
                        'accent-foreground': 'oklch(0.205 0 0)',
                        destructive: 'oklch(0.577 0.245 27.325)',
                        border: 'oklch(0.922 0 0)',
                        input: 'oklch(0.922 0 0)',
                        ring: 'oklch(0.708 0 0)',
                    }
                }
            }
        }
    </script>
    
    <style>
        /* ========================================
           RESET PARA ELIMINAR FAIXA BRANCA
           ======================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow-x: hidden;
        }

        /* ========================================
           BUTTONS - MOBILE OPTIMIZED
           ======================================== */
        .btn {
            @apply inline-flex items-center justify-center rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        
        .btn-primary {
            @apply bg-primary text-primary-foreground hover:bg-primary/90;
        }
        
        .btn-outline {
            @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
        }
        
        .btn-lg {
            height: 2.75rem;
            padding: 0 1.5rem;
            font-size: 0.9rem;
        }
        
        .btn-xl {
            height: 3rem;
            padding: 0 1.5rem;
            font-size: 1rem;
        }
        
        .btn-2xl {
            height: 3.5rem;
            padding: 0 1.25rem;
            font-size: 0.95rem;
            line-height: 1.3;
        }

        @media (min-width: 640px) {
            .btn-lg { height: 3rem; padding: 0 2rem; font-size: 1rem; }
            .btn-xl { height: 3.5rem; padding: 0 2rem; font-size: 1.125rem; }
            .btn-2xl { height: 4rem; padding: 0 2rem; font-size: 1.25rem; }
        }

        /* ========================================
           CAROUSEL - MOBILE OPTIMIZED
           ======================================== */
        .carousel-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            touch-action: pan-y;
        }
        
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .carousel-slide {
            min-width: 100%;
            padding: 0 0.5rem;
        }
        
        @media (min-width: 768px) {
            .carousel-slide {
                min-width: 33.333%;
                padding: 0 1rem;
            }
        }
        
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: background 0.3s;
        }
        
        @media (min-width: 768px) {
            .carousel-button {
                width: 44px;
                height: 44px;
            }
        }
        
        .carousel-button:hover {
            background: rgba(0, 0, 0, 0.8);
        }
        
        .carousel-button.prev {
            left: 5px;
        }
        
        .carousel-button.next {
            right: 5px;
        }
        
        @media (min-width: 768px) {
            .carousel-button.prev { left: 10px; }
            .carousel-button.next { right: 10px; }
        }
        
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-top: 16px;
        }
        
        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        @media (min-width: 768px) {
            .carousel-dot {
                width: 10px;
                height: 10px;
            }
        }
        
        .carousel-dot.active {
            background: rgba(255, 255, 255, 1);
        }

        /* ========================================
           ANIMATIONS
           ======================================== */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .pulse-button {
            animation: pulse 2s infinite;
        }

        @keyframes blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.5; }
        }

        .blink {
            animation: blink 2s infinite;
        }

        .scarcity-pulse {
            animation: pulse 3s ease-in-out infinite;
        }

        /* ========================================
           HERO SECTION - MOBILE FIRST
           ======================================== */
        .hero-section {
            min-height: auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem 0 3rem;
        }

        @media (min-width: 768px) {
            .hero-section {
                min-height: 100vh;
                padding-bottom: 4rem;
            }
        }

        /* ========================================
           TYPOGRAPHY - RESPONSIVE
           ======================================== */
        .hero-title {
            font-size: 1.875rem;
            line-height: 1.2;
        }

        @media (min-width: 640px) {
            .hero-title {
                font-size: 2.5rem;
            }
        }

        @media (min-width: 768px) {
            .hero-title {
                font-size: 3rem;
            }
        }

        @media (min-width: 1024px) {
            .hero-title {
                font-size: 3.75rem;
            }
        }

        .hero-subtitle {
            font-size: 1.125rem;
        }

        @media (min-width: 640px) {
            .hero-subtitle {
                font-size: 1.25rem;
            }
        }

        @media (min-width: 768px) {
            .hero-subtitle {
                font-size: 1.5rem;
            }
        }

        .section-title {
            font-size: 1.5rem;
        }

        @media (min-width: 640px) {
            .section-title {
                font-size: 1.875rem;
            }
        }

        @media (min-width: 768px) {
            .section-title {
                font-size: 2.25rem;
            }
        }

        /* ========================================
           CTA BUTTONS SPACING
           ======================================== */
        .cta-buttons {
            margin-top: 1.5rem;
            margin-bottom: 2rem;
        }

        @media (min-width: 768px) {
            .cta-buttons {
                margin-top: 2.5rem;
                margin-bottom: 3rem;
            }
        }

        /* ========================================
           FOOTER
           ======================================== */
        .footer-improved {
            background: linear-gradient(to bottom, #1e1b4b, #0f0a2e);
            border-top: 2px solid #4c1d95;
        }

        .footer-improved a {
            color: #d1d5db;
            transition: color 0.3s ease;
        }

        .footer-improved a:hover {
            color: #ffffff;
        }

        .footer-text-primary {
            color: #e5e7eb;
        }

        .footer-text-secondary {
            color: #9ca3af;
        }

        /* ========================================
           UTILITIES
           ======================================== */
        html {
            scroll-behavior: smooth;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }
      /* ========================================
   CAROUSEL 2 - PESSOAS COMUNS (CSS ADICIONAL)
   ======================================== */
.carousel-container-2 {
    position: relative;
    overflow: hidden;
    width: 100%;
    touch-action: pan-y;
}

.carousel-track-2 {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.carousel-slide-2 {
    min-width: 100%;
    padding: 0 0.5rem;
}

@media (min-width: 768px) {
    .carousel-slide-2 {
        min-width: 33.333%;
        padding: 0 1rem;
    }
}

.carousel-button-2 {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: background 0.3s;
}

@media (min-width: 768px) {
    .carousel-button-2 {
        width: 44px;
        height: 44px;
    }
}

.carousel-button-2:hover {
    background: rgba(0, 0, 0, 0.8);
}

.carousel-button-2.prev {
    left: 5px;
}

.carousel-button-2.next {
    right: 5px;
}

@media (min-width: 768px) {
    .carousel-button-2.prev { left: 10px; }
    .carousel-button-2.next { right: 10px; }
}

.carousel-dot-2 {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    cursor: pointer;
    transition: background 0.3s;
}

@media (min-width: 768px) {
    .carousel-dot-2 {
        width: 10px;
        height: 10px;
    }
}

.carousel-dot-2.active {
    background: rgba(255, 255, 255, 1);
}
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // ========================================
        // APP STATE (DECLARADO NO IN√çCIO)
        // ========================================
        let currentStep = 'home';
        let quizData = {};
        let currentQuestion = 0;
        let currentSlide = 0;
        let currentSlide2 = 0;
        let touchStartX = 0;
        let touchEndX = 0;
        let autoplayInterval = null;
        let autoplayInterval2 = null;

        // ========================================
        // NOVOS PERFIS COMPORTAMENTAIS
        // ========================================
        const dietaryProfiles = {
            'emotional': {
                name: 'Comedor Emocional',
                icon: 'üò¢',
                description: 'Voc√™ usa a comida como v√°lvula de escape para lidar com emo√ß√µes dif√≠ceis como estresse, ansiedade, tristeza ou t√©dio.',
                challenge: 'Come por impulso emocional, n√£o por fome f√≠sica',
                strategy: 'Desenvolver regula√ß√£o emocional e criar novas respostas ao estresse que n√£o envolvam comida',
                color: 'from-purple-500 to-pink-500'
            },
            'restrictive': {
                name: 'Comedor Restritivo',
                icon: '‚öñÔ∏è',
                description: 'Voc√™ vive em ciclos de restri√ß√£o extrema seguidos de culpa intensa. Faz dietas r√≠gidas e sente ansiedade com "alimentos proibidos".',
                challenge: 'Mentalidade tudo-ou-nada gera ciclos de restri√ß√£o e compensa√ß√£o',
                strategy: 'Trabalhar flexibilidade alimentar, auto-compaix√£o e quebrar a mentalidade de alimentos "bons" e "ruins"',
                color: 'from-blue-500 to-cyan-500'
            },
            'automatic': {
                name: 'Comedor Autom√°tico',
                icon: 'üîÑ',
                description: 'Voc√™ come por h√°bito, distra√ß√£o ou rotina ‚Äî muitas vezes sem fome real, apenas porque "est√° na hora" ou est√° fazendo outra atividade.',
                challenge: 'Falta de consci√™ncia alimentar leva ao consumo excessivo',
                strategy: 'Praticar alimenta√ß√£o consciente (mindful eating) e identificar gatilhos ambientais',
                color: 'from-teal-500 to-green-500'
            },
            'social': {
                name: 'Comedor Social',
                icon: 'üéâ',
                description: 'Voc√™ come significativamente mais em eventos, encontros e ocasi√µes sociais. O ambiente e as pessoas ditam seu apetite.',
                challenge: 'Influ√™ncia social e festiva leva a excessos frequentes',
                strategy: 'Planejar estrat√©gias antecipadas para eventos e desenvolver assertividade para escolhas saud√°veis',
                color: 'from-amber-500 to-orange-500'
            },
            'compulsive': {
                name: 'Comedor Compulsivo',
                icon: 'üç´',
                description: 'Voc√™ tem epis√≥dios recorrentes de perda de controle e exagero alimentar, geralmente seguidos de profundo arrependimento.',
                challenge: 'Epis√≥dios de compuls√£o seguidos de culpa e vergonha',
                strategy: 'Trabalhar compuls√£o alimentar com suporte especializado, identificar gatilhos e desenvolver estrat√©gias de interrup√ß√£o',
                color: 'from-red-500 to-rose-500'
            }
        };

        // ========================================
        // PERGUNTAS FOLLOW-UP
        // ========================================
        const eatingHabitsFollowUp = {
            'emotional_eating': {
                question: 'O que mais te faz abandonar a dieta?',
                options: [
                    { value: 'emotional_eating_boredom', label: 'Volto aos mesmos velhos h√°bitos sem perceber', icon: 'üîÑ' },
                    { value: 'emotional_eating_stress', label: 'As tenta√ß√µes parecem mais fortes do que eu', icon: 'üç©' },
                    { value: 'emotional_eating_sadness', label: 'Sempre arrumo uma desculpa para come√ßar amanh√£', icon: 'üôà' }
                ]
            },
            'portion_control': {
                question: 'Quando voc√™ mais sente vontade de comer doces?',
                options: [
                    { value: 'portion_control_chocolate', label: 'Uso doce como recompensa ou conforto emocional', icon: 'üéÅ' },
                    { value: 'portion_control_baked', label: 'Corro pros doces quando estou ansioso(a) ou estressado(a)', icon: 'üò∞' },
                    { value: 'portion_control_candy', label: 'Acabo comendo doce por t√©dio ou solid√£o', icon: 'üç¨' }
                ]
            },
            'cravings': {
                question: 'Em qual situa√ß√£o a ansiedade mais te leva a descontar na comida?',
                options: [
                    { value: 'cravings_work', label: 'No trabalho ‚Äî belisco sem parar quando estou sob press√£o', icon: 'üíº' },
                    { value: 'cravings_evening', label: 'Em casa ‚Äî problemas familiares me levam direto pra geladeira', icon: 'üè†' },
                    { value: 'cravings_social', label: 'Em encontros sociais ‚Äî como para aliviar a ansiedade', icon: 'üë•' }
                ]
            },
            'late_night': {
                question: 'Por que voc√™ acha que abandona os exerc√≠cios?',
                options: [
                    { value: 'late_night_lack_time', label: 'Sempre arrumo uma desculpa e deixo pra depois', icon: '‚è∞' },
                    { value: 'late_night_lack_energy', label: 'Chego esgotado(a) e sem energia para treinar', icon: 'üò¥' },
                    { value: 'late_night_lack_motivation', label: 'Come√ßo animado(a), mas perco a motiva√ß√£o r√°pido', icon: 'üìâ' }
                ]
            },
            'stress_eating': {
                question: 'O que mais te impede de colocar em pr√°tica o que voc√™ j√° sabe?',
                options: [
                    { value: 'stress_eating_diet', label: 'Sei o que comer, mas n√£o consigo seguir sempre', icon: 'ü•ó' },
                    { value: 'stress_eating_exercise', label: 'Sei que preciso me exercitar, mas falta consist√™ncia', icon: 'üèãÔ∏è' },
                    { value: 'stress_eating_mental', label: 'O dif√≠cil √© mudar os h√°bitos autom√°ticos que me puxam pra tr√°s', icon: 'üß†' }
                ]
            }
        };

        // ========================================
        // PERGUNTAS DO QUIZ
        // ========================================
        const quizQuestions = [
            {
                id: 'gender',
                question: 'Primeiro, me diga:',
                type: 'gender',
                options: [
                    { value: 'male', label: 'Sou Homem ‚Äî Quero Emagrecer', icon: 'üë®' },
                    { value: 'female', label: 'Sou Mulher ‚Äî Quero Emagrecer', icon: 'üë©' }
                ]
            },
            {
                id: 'goal',
                question: 'Se voc√™ acordasse amanh√£ no seu peso ideal... qual seria o primeiro pensamento que viria na sua cabe√ßa?',
                type: 'multiple',
                options: [
                    { value: 'self-esteem', label: '"Finalmente me sinto orgulhoso(a) de mim"', icon: 'üí™' },
                    { value: 'movement', label: '"Que energia! Quero aproveitar o dia"', icon: '‚ö°' },
                    { value: 'looks', label: '"Mal posso esperar pelos elogios"', icon: '‚ú®' },
                    { value: 'longevity', label: '"Agora sim vou viver muito mais"', icon: '‚ù§Ô∏è' }
                ]
            },
            {
                id: 'past_tries',
                question: 'Qual dessas frases mais parece com a SUA hist√≥ria?',
                type: 'multiple',
                options: [
                    { value: 'limited_success', label: 'J√° emagreci antes, mas o peso sempre volta (efeito sanfona)', icon: 'üîÑ' },
                    { value: 'no_success', label: 'J√° tentei v√°rias vezes, mas nunca cheguei no meu objetivo', icon: 'üòî' },
                    { value: 'not_yet', label: 'Ainda n√£o tentei de verdade (vou come√ßar AGORA)', icon: 'üöÄ' }
                ]
            },
            {
                id: 'weight_goal',
                question: 'Quanto peso voc√™ quer perder?',
                type: 'multiple',
                options: [
                    { value: '5-10kg', label: '5 a 10 kg', icon: 'üìâ' },
                    { value: '11-20kg', label: '11 a 20 kg', icon: 'üìä' },
                    { value: '21-30kg', label: '21 a 30 kg', icon: 'üìà' },
                    { value: '31kg+', label: 'Mais de 31 kg', icon: 'üéØ' }
                ]
            },
            {
                id: 'eating_habits',
                question: 'Qual √© o MAIOR obst√°culo que te impede de emagrecer agora?',
                type: 'multiple',
                hasFollowUp: true,
                options: [
                    { value: 'emotional_eating', label: 'Come√ßo bem... mas n√£o consigo manter por muito tempo', icon: 'ü•ó' },
                    { value: 'portion_control', label: 'Doces me derrubam (sempre cedo a eles)', icon: 'üç´' },
                    { value: 'cravings', label: 'Quando bate ansiedade, desconto tudo na comida', icon: 'üò∞' },
                    { value: 'late_night', label: 'Come√ßo animado(a) com exerc√≠cios, mas logo abandono', icon: 'üèÉ' },
                    { value: 'stress_eating', label: 'Sei o que fazer, mas n√£o consigo colocar em pr√°tica', icon: 'ü§Ø' }
                ]
            },
            {
                id: 'after_diet',
                question: 'Quando voc√™ sai da dieta, o que costuma acontecer?',
                type: 'multiple',
                options: [
                    { value: 'restrictive', label: 'Tento compensar com mais restri√ß√£o e sinto muita culpa', icon: '‚öñÔ∏è' },
                    { value: 'compulsive', label: 'Perco o controle completamente e como demais', icon: 'üç´' },
                    { value: 'automatic', label: 'Simplesmente volto √† rotina normal sem perceber', icon: 'üîÑ' }
                ]
            }
        ];

        // ========================================
        // UTM TRACKER
        // ========================================
        function initUTMTracker() {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                
                const defaultUTMs = {
                    utm_source: 'FB',
                    utm_campaign: '{{campaign.name}}|{{campaign.id}}',
                    utm_medium: '{{adset.name}}|{{adset.id}}',
                    utm_content: '{{ad.name}}|{{ad.id}}',
                    utm_term: '{{placement}}',
                    xcod: 'FBhQwK21wXxR{{campaign.name}}|{{campaign.id}}hQwK21wXxR{{adset.name}}|{{adset.id}}hQwK21wXxR{{ad.name}}|{{ad.id}}hQwK21wXxR{{placement}}'
                };
                
                const fbclid = urlParams.get('fbclid');
                const hasUtmSource = urlParams.has('utm_source');
                
                if (!hasUtmSource && fbclid) {
                    Object.entries(defaultUTMs).forEach(([key, value]) => {
                        if (!urlParams.has(key)) {
                            urlParams.set(key, value);
                        }
                    });
                    
                    const newUrl = `${window.location.pathname}?${urlParams.toString()}`;
                    window.history.replaceState({}, '', newUrl);
                }
                
                const utmData = {};
                urlParams.forEach((value, key) => {
                    if (key.startsWith('utm_') || key === 'xcod' || key === 'fbclid') {
                        utmData[key] = value;
                    }
                });
                
                if (Object.keys(utmData).length > 0) {
                    localStorage.setItem('utmData', JSON.stringify(utmData));
                    
                    if (typeof fbq !== 'undefined') {
                        fbq('trackCustom', 'UTMCaptured', utmData);
                    }
                }
                
            } catch (error) {
                console.error('Erro ao capturar UTMs:', error);
            }
        }

        // ========================================
        // SCROLL SUAVE
        // ========================================
        function scrollToTop(smooth = true) {
            setTimeout(() => {
                if (smooth) {
                    window.scrollTo({
                        top: 0,
                        left: 0,
                        behavior: 'smooth'
                    });
                } else {
                    window.scrollTo(0, 0);
                }
                
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            }, 100);
        }

        // ========================================
        // ALGORITMO DE IDENTIFICA√á√ÉO DE PERFIL (ATUALIZADO)
        // ========================================
        function calculateDietaryProfile(answers) {
            const scores = {
                emotional: 0,
                restrictive: 0,
                automatic: 0,
                social: 0,
                compulsive: 0
            };

            // An√°lise da pergunta "goal"
            if (answers.goal === 'self-esteem') {
                scores.emotional += 2;
                scores.restrictive += 1;
            }
            if (answers.goal === 'movement') {
                scores.automatic += 1;
            }
            if (answers.goal === 'looks') {
                scores.social += 2;
            }
            if (answers.goal === 'longevity') {
                scores.restrictive += 1;
            }

            // An√°lise da pergunta "past_tries"
            if (answers.past_tries === 'limited_success') {
                scores.restrictive += 3;
                scores.compulsive += 1;
            }
            if (answers.past_tries === 'no_success') {
                scores.emotional += 2;
                scores.compulsive += 1;
            }
            if (answers.past_tries === 'not_yet') {
                scores.automatic += 2;
            }

            // An√°lise da pergunta "eating_habits"
            if (answers.eating_habits === 'emotional_eating') {
                scores.restrictive += 2;
                scores.emotional += 1;
            }
            if (answers.eating_habits === 'portion_control') {
                scores.emotional += 2;
                scores.compulsive += 1;
            }
            if (answers.eating_habits === 'cravings') {
                scores.emotional += 3;
            }
            if (answers.eating_habits === 'late_night') {
                scores.automatic += 3;
            }
            if (answers.eating_habits === 'stress_eating') {
                scores.emotional += 2;
                scores.automatic += 1;
            }

            // An√°lise da pergunta "eating_habits_detail" (follow-up)
            if (answers.eating_habits_detail) {
                if (answers.eating_habits_detail.includes('boredom')) {
                    scores.automatic += 2;
                    scores.emotional += 1;
                }
                if (answers.eating_habits_detail.includes('stress')) {
                    scores.emotional += 2;
                }
                if (answers.eating_habits_detail.includes('chocolate')) {
                    scores.emotional += 1;
                }
                if (answers.eating_habits_detail.includes('work')) {
                    scores.emotional += 1;
                }
                if (answers.eating_habits_detail.includes('social')) {
                    scores.social += 3;
                }
                if (answers.eating_habits_detail.includes('motivation')) {
                    scores.automatic += 1;
                }
            }

            // NOVA: An√°lise da pergunta "after_diet"
            if (answers.after_diet === 'restrictive') {
                scores.restrictive += 4;
            }
            if (answers.after_diet === 'compulsive') {
                scores.compulsive += 4;
            }
            if (answers.after_diet === 'automatic') {
                scores.automatic += 3;
            }

            // An√°lise da pergunta "weight_goal"
            if (answers.weight_goal === '5-10kg') {
                scores.restrictive += 1;
            }
            if (answers.weight_goal === '31kg+') {
                scores.compulsive += 1;
                scores.emotional += 1;
            }

            // Encontrar perfil dominante
            let maxScore = 0;
            let dominantProfile = 'emotional';
            
            for (const [profile, score] of Object.entries(scores)) {
                if (score > maxScore) {
                    maxScore = score;
                    dominantProfile = profile;
                }
            }

            console.log('Pontua√ß√µes:', scores);
            console.log('Perfil identificado:', dominantProfile);

            return dominantProfile;
        }

        // ========================================
        // CAROUSEL FUNCTIONALITY (CARROSSEL 1 - FAMOSOS)
        // ========================================
        function initCarousel() {
            const track = document.querySelector('.carousel-track');
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (!track) return;

            const slidesCount = slides.length;
            const isMobile = window.innerWidth < 768;
            const slidesToShow = isMobile ? 1 : 3;

           function updateCarousel() {
                const slideWidth = isMobile ? 100 : 33.333;
                track.style.transform = `translateX(-${currentSlide * slideWidth}%)`;
                
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }

            function nextSlide() {
                const maxSlide = isMobile ? slidesCount - 1 : slidesCount - slidesToShow;
                currentSlide = currentSlide >= maxSlide ? 0 : currentSlide + 1;
                updateCarousel();
            }

            function prevSlide() {
                const maxSlide = isMobile ? slidesCount - 1 : slidesCount - slidesToShow;
                currentSlide = currentSlide <= 0 ? maxSlide : currentSlide - 1;
                updateCarousel();
            }

            function goToSlide(index) {
                currentSlide = index;
                updateCarousel();
            }

            // Autoplay - 3 segundos
            function startAutoplay() {
                stopAutoplay();
                autoplayInterval = setInterval(() => {
                    nextSlide();
                }, 3000);
            }

            function stopAutoplay() {
                if (autoplayInterval) {
                    clearInterval(autoplayInterval);
                    autoplayInterval = null;
                }
            }

            const prevBtn = document.querySelector('.carousel-button.prev');
            const nextBtn = document.querySelector('.carousel-button.next');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    prevSlide();
                    stopAutoplay();
                    startAutoplay();
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    nextSlide();
                    stopAutoplay();
                    startAutoplay();
                });
            }

            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    goToSlide(index);
                    stopAutoplay();
                    startAutoplay();
                });
            });

            const container = document.querySelector('.carousel-container');
            
            if (container) {
                container.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                    stopAutoplay();
                });

                container.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                    startAutoplay();
                });
            }

            function handleSwipe() {
                if (touchEndX < touchStartX - 50) {
                    nextSlide();
                }
                if (touchEndX > touchStartX + 50) {
                    prevSlide();
                }
            }

            // Iniciar autoplay
            startAutoplay();
        }

        // ========================================
        // CAROUSEL 2 FUNCTIONALITY (PESSOAS COMUNS)
        // ========================================
        function initCarousel2() {
            const track = document.querySelector('.carousel-track-2');
            const slides = document.querySelectorAll('.carousel-slide-2');
            const dots = document.querySelectorAll('.carousel-dot-2');
            
            if (!track) return;

            const slidesCount = slides.length;
            const isMobile = window.innerWidth < 768;
            const slidesToShow = isMobile ? 1 : 3;

            function updateCarousel2() {
                const slideWidth = isMobile ? 100 : 33.333;
                track.style.transform = `translateX(-${currentSlide2 * slideWidth}%)`;
                
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide2);
                });
            }

            function nextSlide2() {
                const maxSlide = isMobile ? slidesCount - 1 : slidesCount - slidesToShow;
                currentSlide2 = currentSlide2 >= maxSlide ? 0 : currentSlide2 + 1;
                updateCarousel2();
            }

            function prevSlide2() {
                const maxSlide = isMobile ? slidesCount - 1 : slidesCount - slidesToShow;
                currentSlide2 = currentSlide2 <= 0 ? maxSlide : currentSlide2 - 1;
                updateCarousel2();
            }

            function goToSlide2(index) {
                currentSlide2 = index;
                updateCarousel2();
            }

            // Autoplay - 3 segundos
            function startAutoplay2() {
                stopAutoplay2();
                autoplayInterval2 = setInterval(() => {
                    nextSlide2();
                }, 3000);
            }

            function stopAutoplay2() {
                if (autoplayInterval2) {
                    clearInterval(autoplayInterval2);
                    autoplayInterval2 = null;
                }
            }

            const prevBtn = document.querySelector('.carousel-button-2.prev');
            const nextBtn = document.querySelector('.carousel-button-2.next');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    prevSlide2();
                    stopAutoplay2();
                    startAutoplay2();
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    nextSlide2();
                    stopAutoplay2();
                    startAutoplay2();
                });
            }

            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    goToSlide2(index);
                    stopAutoplay2();
                    startAutoplay2();
                });
            });

            const container = document.querySelector('.carousel-container-2');
            
            if (container) {
                container.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                    stopAutoplay2();
                });

                container.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe2();
                    startAutoplay2();
                });
            }

            function handleSwipe2() {
                if (touchEndX < touchStartX - 50) {
                    nextSlide2();
                }
                if (touchEndX > touchStartX + 50) {
                    prevSlide2();
                }
            }

            // Iniciar autoplay
            startAutoplay2();
        }

        // ========================================
        // FUN√á√ïES DE CONTROLE
        // ========================================
        function handleQuizAnswer(answer) {
            const currentQ = quizQuestions[currentQuestion];
            
            if (currentQ.hasFollowUp && eatingHabitsFollowUp[answer]) {
                quizData[currentQ.id] = answer;
                showFollowUpQuestion(answer);
                scrollToTop();
            } else {
                quizData[currentQ.id] = answer;
                
                if (currentQuestion < quizQuestions.length - 1) {
                    currentQuestion++;
                    renderApp();
                    scrollToTop();
                } else {
                    quizData.dietaryProfile = calculateDietaryProfile(quizData);
                    currentStep = 'result';
                    
                    if (typeof fbq !== 'undefined') {
                        fbq('track', 'CompleteRegistration', {
                            content_name: 'Quiz Completado',
                            status: 'completed',
                            value: 0,
                            currency: 'BRL'
                        });
                    }
                    renderApp();
                    scrollToTop();
                }
            }
        }

        function handleFollowUpAnswer(mainAnswer, followUpAnswer) {
            quizData[`eating_habits_detail`] = followUpAnswer;
            quizData.dietaryProfile = calculateDietaryProfile(quizData);
            currentStep = 'result';
            
            if (typeof fbq !== 'undefined') {
                fbq('track', 'CompleteRegistration', {
                    content_name: 'Quiz Completado',
                    status: 'completed',
                    value: 0,
                    currency: 'BRL'
                });
            }
            
            renderApp();
            scrollToTop();
        }

        function showFollowUpQuestion(mainAnswer) {
            currentStep = 'followup';
            renderApp();
            scrollToTop();
        }

        function goBack() {
            if (currentStep === 'followup') {
                currentStep = 'quiz';
                renderApp();
                scrollToTop();
            } else if (currentStep === 'offer') {
                currentStep = 'result';
                renderApp();
                scrollToTop();
            } else if (currentQuestion > 0) {
                currentQuestion--;
                renderApp();
                scrollToTop();
            } else {
                currentStep = 'home';
                renderApp();
                scrollToTop();
            }
        }

        function startQuiz(gender) {
            quizData = { gender };
            currentStep = 'quiz';
            currentQuestion = 1;
            
            if (typeof fbq !== 'undefined') {
                fbq('track', 'Lead', {
                    content_name: 'Quiz Iniciado',
                    content_category: 'Lead Generation',
                    gender: gender
                });
            }
            renderApp();
            scrollToTop();
        }

        // ========================================
        // NAVEGA√á√ÉO PARA OFERTA (FUN√á√ÉO GLOBAL)
        // ========================================
        function goToOffer() {
            console.log('üéØ goToOffer() chamada!');
            try {
                currentStep = 'offer';
                
                if (typeof fbq !== 'undefined') {
                    fbq('track', 'ViewContent', {
                        content_name: 'P√°gina de Oferta',
                        content_ids: ['chip-da-magreza-21dias'],
                        content_type: 'product',
                        value: 37.90,
                        currency: 'BRL'
                    });
                }
                
                renderApp();
                scrollToTop();
            } catch (error) {
                console.error('‚ùå Erro ao navegar para oferta:', error);
                currentStep = 'offer';
                renderApp();
                window.scrollTo(0, 0);
            }
        }

        // Torna a fun√ß√£o global
        window.goToOffer = goToOffer;

        // ========================================
        // CHECKOUT COM DELAY
        // ========================================
        function handleCheckout() {
            try {
                if (window.checkoutInProgress) {
                    console.log('‚ö†Ô∏è Checkout j√° em andamento...');
                    return;
                }
                window.checkoutInProgress = true;
                
                const baseUrl = 'https://pay.hotmart.com/N101998916J?off=6kcihxpj&checkoutMode=10';
                const utmParams = new URLSearchParams(window.location.search);
                const checkoutUrl = utmParams.toString() ? `${baseUrl}&${utmParams.toString()}` : baseUrl;
                
                if (typeof fbq !== 'undefined') {
                    fbq('track', 'InitiateCheckout', {
                        currency: 'BRL',
                        value: 37.90,
                        content_name: 'Hipnose do Emagrecimento - 21 Dias',
                        content_ids: ['chip-da-magreza-21dias'],
                        content_type: 'product',
                        num_items: 1
                    });
                    
                    console.log('‚úÖ InitiateCheckout disparado com sucesso');
                    
                    setTimeout(function() {
                        console.log('üöÄ Redirecionando para checkout...');
                        window.location.href = checkoutUrl;
                    }, 500);
                    
                } else {
                    console.warn('‚ö†Ô∏è Facebook Pixel n√£o encontrado - Redirecionando direto');
                    window.location.href = checkoutUrl;
                }
                
            } catch (error) {
                console.error('‚ùå Erro no checkout:', error);
                window.checkoutInProgress = false;
                const baseUrl = 'https://pay.hotmart.com/N101998916J?off=6kcihxpj&checkoutMode=10';
                window.location.href = baseUrl;
            }
        }

        // ========================================
        // RENDER: HOME PAGE
        // ========================================
        function renderHomePage() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <header class="p-4 sm:p-6">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" 
                                     alt="Logo Hipnose do Emagrecimento" 
                                     width="32" 
                                     height="32"
                                     fetchpriority="high"
                                     class="w-8 h-8 rounded-full object-cover">
                            </div>
                            <span class="text-lg sm:text-xl font-semibold">Hipnose do Emagrecimento</span>
                        </div>
                    </header>

                    <div class="container mx-auto px-4 sm:px-6 hero-section">
                        <div class="max-w-4xl mx-auto text-center space-y-4 sm:space-y-6 mb-6 sm:mb-8">
                            <div class="inline-block bg-red-900/30 border border-red-500 text-red-300 px-3 py-2 sm:px-6 sm:py-3 rounded-lg text-xs sm:text-sm mb-3 sm:mb-4 blink">
                                <span class="hidden sm:inline">‚ö†Ô∏è Se voc√™ j√° tentou emagrecer 3 vezes ou mais e o peso sempre volta...</span>
                                <span class="sm:hidden">‚ö†Ô∏è Peso sempre volta?</span>
                            </div>
                            
                            <h1 class="hero-title font-bold leading-tight">
                                Por Que Seu Corpo SABOTA Suas Dietas (E o Teste Simples Que Muda Tudo em 21 Dias)
                            </h1>
                            
                            <p class="hero-subtitle text-gray-200 font-medium px-2">
                                Para quem quer se olhar no espelho e ter orgulho do que v√™
                            </p>
                        </div>

                        <div class="max-w-3xl mx-auto text-center space-y-4 sm:space-y-6">
                            <div class="flex flex-col items-center gap-2 mb-4">
                                <p class="text-sm sm:text-base text-yellow-400 font-semibold animate-pulse">
                                    üëá Escolha seu g√™nero e descubra em 1 minuto
                                </p>
                                <div class="text-4xl animate-bounce">‚¨áÔ∏è</div>
                            </div>

                            <div class="flex gap-3 sm:gap-4 flex-col cta-buttons">
                                <button onclick="startQuiz('male')" class="btn btn-2xl w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-bold border-2 border-blue-400 pulse-button">
                                    <span class="text-xl sm:text-2xl mr-2">üë®</span>
                                    <span class="hidden sm:inline">Homem ‚Äî </span>
                                    <span>Fazer Teste Gr√°tis</span>
                                    <span class="hidden lg:inline"> Agora</span>
                                </button>
                                <button onclick="startQuiz('female')" class="btn btn-2xl w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold border-2 border-purple-400 pulse-button">
                                    <span class="text-xl sm:text-2xl mr-2">üë©</span>
                                    <span class="hidden sm:inline">Mulher ‚Äî </span>
                                    <span>Fazer Teste Gr√°tis</span>
                                    <span class="hidden lg:inline"> Agora</span>
                                </button>
                            </div>
                            
                            <p class="text-xs sm:text-sm text-gray-400">
                                Sem compromisso ‚Ä¢ Resultado instant√¢neo ‚Ä¢ Plano personalizado ao final
                            </p>
                        </div>

                        <div class="flex justify-center mt-8 sm:mt-12">
                            <div class="bg-purple-900/30 border border-purple-700 rounded-xl px-4 py-3 sm:px-6 sm:py-4 flex flex-col sm:flex-row items-center gap-3 sm:gap-4">
                                <div class="flex -space-x-2">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/jussiara.jpeg" 
                                         alt="Usu√°ria Jussiara" 
                                         width="40" 
                                         height="40"
                                         loading="lazy"
                                         class="w-9 h-9 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-white">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/eloiza.jpeg" 
                                         alt="Usu√°ria Eloiza" 
                                         width="40" 
                                         height="40"
                                         loading="lazy"
                                         class="w-9 h-9 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-white">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/antonio.jpeg" 
                                         alt="Usu√°rio Antonio" 
                                         width="40" 
                                         height="40"
                                         loading="lazy"
                                         class="w-9 h-9 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-white">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/Luana.jpeg" 
                                         alt="Usu√°ria Luana" 
                                         width="40" 
                                         height="40"
                                         loading="lazy"
                                         class="w-9 h-9 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-white">
                                </div>
                                <div class="text-center sm:text-left">
                                    <div class="flex justify-center sm:justify-start text-yellow-400 text-xs sm:text-sm mb-1">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                    <p class="text-xs sm:text-sm text-gray-300">98% taxa de satisfa√ß√£o</p>
                                    <p class="text-xs text-gray-400">*baseado em entrevistas com usu√°rios</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    ${renderFooter()}
                </div>
            `;
        }

        // ========================================
        // RENDER: QUIZ PAGE
        // ========================================
        function renderQuizPage() {
            const question = quizQuestions[currentQuestion];
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;

            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <header class="p-4 sm:p-6">
                        <div class="flex items-center justify-between mb-3 sm:mb-4">
                            <button onclick="goBack()" class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800 text-sm sm:text-base">‚Üê Voltar</button>
                            <div class="flex items-center gap-2">
                                <div class="w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" 
                                         alt="Logo" 
                                         width="32" 
                                         height="32"
                                         loading="lazy"
                                         class="w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover">
                                </div>
                                <span class="text-base sm:text-xl font-semibold hidden sm:inline">Hipnose do Emagrecimento</span>
                            </div>
                            <span class="text-xs sm:text-sm text-gray-400">${currentQuestion + 1} de ${quizQuestions.length}</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300" style="width: ${progress}%"></div>
                        </div>
                    </header>
                    <div class="container mx-auto px-4 sm:px-6 py-8 sm:py-12">
                        <div class="max-w-2xl mx-auto text-center">
                            <h2 class="text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4 px-2">${question.question}</h2>
                            ${question.subtitle ? `<p class="text-sm sm:text-base text-gray-300 mb-6 sm:mb-8 px-2">${question.subtitle}</p>` : ''}
                            <div class="space-y-3 sm:space-y-4">
                                ${question.options.map((opt, i) => {
                                    const grads = [
                                        'bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 border-2 border-blue-400',
                                        'bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 border-2 border-orange-400',
                                        'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 border-2 border-purple-400',
                                        'bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 border-2 border-green-400',
                                        'bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 border-2 border-pink-400'
                                    ];
                                    return `
                                        <button onclick="handleQuizAnswer('${opt.value}')" class="btn btn-2xl w-full text-left justify-start font-medium transition-all duration-200 ${grads[i] || grads[4]}">
                                            <span class="text-xl sm:text-2xl mr-3 sm:mr-4 flex-shrink-0">${opt.icon}</span>
                                            <span class="flex-1 text-sm sm:text-base">${opt.label}</span>
                                            <span class="ml-auto text-lg sm:text-xl flex-shrink-0">‚Üí</span>
                                        </button>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // ========================================
        // RENDER: FOLLOW-UP PAGE
        // ========================================
        function renderFollowUpPage() {
            const mainAnswer = quizData['eating_habits'];
            const followUp = eatingHabitsFollowUp[mainAnswer];
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;

            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <header class="p-4 sm:p-6">
                        <div class="flex items-center justify-between mb-3 sm:mb-4">
                            <button onclick="goBack()" class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800 text-sm sm:text-base">‚Üê Voltar</button>
                            <div class="flex items-center gap-2">
                                <div class="w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" 
                                         alt="Logo" 
                                         width="32" 
                                         height="32"
                                         loading="lazy"
                                         class="w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover">
                                </div>
                                <span class="text-base sm:text-xl font-semibold hidden sm:inline">Hipnose do Emagrecimento</span>
                            </div>
                            <span class="text-xs sm:text-sm text-gray-400">${currentQuestion + 1} de ${quizQuestions.length}</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300" style="width: ${progress}%"></div>
                        </div>
                    </header>
                    <div class="container mx-auto px-4 sm:px-6 py-8 sm:py-12">
                        <div class="max-w-2xl mx-auto text-center">
                            <h2 class="text-xl sm:text-2xl md:text-3xl font-bold mb-6 sm:mb-8 px-2">${followUp.question}</h2>
                            <div class="space-y-3 sm:space-y-4">
                                ${followUp.options.map((option, index) => {
                                    const gradients = [
                                        'bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 border-2 border-blue-400',
                                        'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 border-2 border-purple-400',
                                        'bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 border-2 border-green-400'
                                    ];
                                    return `
                                        <button onclick="handleFollowUpAnswer('${mainAnswer}', '${option.value}')" class="btn btn-2xl w-full text-left justify-start font-medium transition-all duration-200 ${gradients[index]}">
                                            <span class="text-xl sm:text-2xl mr-3 sm:mr-4 flex-shrink-0">${option.icon}</span>
                                            <span class="flex-1 text-sm sm:text-base">${option.label}</span>
                                            <span class="ml-auto text-lg sm:text-xl flex-shrink-0">‚Üí</span>
                                        </button>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

       // ========================================
// RENDER: TESTIMONIALS CAROUSEL 1 (FAMOSOS)
// ========================================
function renderTestimonialsCarousel1() {
    return `
        <div class="mb-8 sm:mb-12">
            <h2 class="section-title font-bold text-center mb-6 sm:mb-8 px-2">
                Veja Quem J√° Reprogramou o C√©rebro:
            </h2>
            
            <div class="carousel-container relative max-w-6xl mx-auto">
                <div class="carousel-track">
                    <div class="carousel-slide">
                        <div class="bg-slate-800/50 rounded-2xl p-4 sm:p-6 border-2 border-green-500 h-full flex flex-col">
                            <div class="mb-3 sm:mb-4 flex-shrink-0" style="height: 300px; overflow: hidden;">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/adele3.png" 
                                     alt="Depoimento Adele - Emagreceu mais de 40kg" 
                                     width="600" 
                                     height="400"
                                     loading="lazy"
                                     class="w-full h-full object-cover rounded-lg"/>
                            </div>
                            <div class="flex-1 flex flex-col justify-between">
                                <div>
                                    <div class="text-center mb-2 sm:mb-3">
                                        <span class="text-2xl sm:text-3xl font-bold text-green-400">Perdeu + de 40kg</span>
                                    </div>
                                    <p class="text-sm sm:text-base text-gray-300 mb-3 sm:mb-4 italic">"Adele transformou n√£o s√≥ seu corpo, <strong>mas sua rela√ß√£o com a comida</strong>."</p>
                                </div>
                                <p class="text-xs sm:text-sm text-gray-400">‚Äî Cantora brit√¢nica Adele</p>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <div class="bg-slate-800/50 rounded-2xl p-4 sm:p-6 border-2 border-green-500 h-full flex flex-col">
                            <div class="mb-3 sm:mb-4 flex-shrink-0" style="height: 300px; overflow: hidden;">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/sophiedahl2.png" 
                                    alt="Depoimento Sophie Dahl - Reduziu 3 tamanhos" 
                                     width="600" 
                                     height="400"
                                     loading="lazy"
                                     class="w-full h-full object-cover rounded-lg"/>
                            </div>
                            <div class="flex-1 flex flex-col justify-between">
                                <div>
                                    <div class="text-center mb-2 sm:mb-3">
                                        <span class="text-2xl sm:text-3xl font-bold text-green-400">Reduziu 3 tamanhos de roupa</span>
                                    </div>
                                    <p class="text-sm sm:text-base text-gray-300 mb-3 sm:mb-4 italic">"Ex-modelo plus size, <strong>usou a hipnose para parar de</strong> comer por impulso."</p>
                                </div>
                                <p class="text-xs sm:text-sm text-gray-400">‚Äî Modelo Sophie Dahl</p>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <div class="bg-slate-800/50 rounded-2xl p-4 sm:p-6 border-2 border-green-500 h-full flex flex-col">
                            <div class="mb-3 sm:mb-4 flex-shrink-0" style="height: 300px; overflow: hidden;">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/carmemreis1.png" 
                                     alt="Depoimento Carmem Reis - Emagreceu 12kg" 
                                     width="600" 
                                     height="400"
                                     loading="lazy"
                                     class="w-full h-full object-cover rounded-lg"/>
                            </div>
                            <div class="flex-1 flex flex-col justify-between">
                                <div>
                                    <div class="text-center mb-2 sm:mb-3">
                                        <span class="text-2xl sm:text-3xl font-bold text-green-400">-12kg em 6 semanas</span>
                                    </div>
                                    <p class="text-sm sm:text-base text-gray-300 mb-3 sm:mb-4 italic">"<strong>Eu sempre tive dificuldade em controlar a compuls√£o por a√ß√∫car</strong>, mas com a dieta da hipnose consegui algo que nunca achei poss√≠vel: ficar seis semanas sem colocar a√ß√∫car na boca."</p>
                                </div>
                                <p class="text-xs sm:text-sm text-gray-400">‚Äî Musa do carnaval da Tatuap√© - Carmem Reis</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-button prev" aria-label="Depoimento anterior">‚Äπ</button>
                <button class="carousel-button next" aria-label="Pr√≥ximo depoimento">‚Ä∫</button>
                <div class="carousel-dots">
                    <div class="carousel-dot active"></div>
                    <div class="carousel-dot"></div>
                    <div class="carousel-dot"></div>
                </div>
            </div>
        </div>
    `;
}

        // ========================================
// RENDER: TESTIMONIALS CAROUSEL 2 (PESSOAS COMUNS)
// ========================================
function renderTestimonialsCarousel2() {
    return `
        <div class="mb-8 sm:mb-12">
            <h2 class="section-title font-bold text-center mb-6 sm:mb-8 px-2">
                Resultados Reais de Pessoas Comuns:
            </h2>
            
            <div class="carousel-container-2 relative max-w-6xl mx-auto">
                <div class="carousel-track-2">
                    <div class="carousel-slide-2">
                        <div class="bg-slate-800/50 rounded-2xl p-4 sm:p-6 border-2 border-green-500 h-full">
                            <div class="mb-3 sm:mb-4">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/adriana.png" 
                                     alt="Depoimento Adriana - Emagreceu 6kg" 
                                     width="600" 
                                     height="400"
                                     loading="lazy"
                                     class="w-full h-auto object-contain rounded-lg"/>
                            </div>
                            <div class="text-center mb-2 sm:mb-3">
                                <span class="text-2xl sm:text-3xl font-bold text-green-400">-6kg em 1¬Ω m√™s</span>
                            </div>
                            <p class="text-sm sm:text-base text-gray-300 mb-3 sm:mb-4 italic">"Este √°udio simplesmente <strong>reconfigurou algo em mim</strong>. Eu como melhor, me sinto melhor."</p>
                            <p class="text-xs sm:text-sm text-gray-400">‚Äî Adriana, 29 anos</p>
                        </div>
                    </div>
                    <div class="carousel-slide-2">
                        <div class="bg-slate-800/50 rounded-2xl p-4 sm:p-6 border-2 border-green-500 h-full">
                            <div class="mb-3 sm:mb-4">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/lurdes.png" 
                                     alt="Depoimento Eloiza - Emagreceu 5kg" 
                                     width="600" 
                                     height="400"
                                     loading="lazy"
                                     class="w-full h-auto object-contain rounded-lg"/>
                            </div>
                            <div class="text-center mb-2 sm:mb-3">
                                <span class="text-2xl sm:text-3xl font-bold text-green-400">-5kg em 7 semanas</span>
                            </div>
                            <p class="text-sm sm:text-base text-gray-300 mb-3 sm:mb-4 italic">"O que mais amo √© <strong>como foi f√°cil</strong>. Sem planos r√≠gidos. Fa√ßo caminhada todos os dias agora."</p>
                            <p class="text-xs sm:text-sm text-gray-400">‚Äî Eloiza, 56 anos</p>
                        </div>
                    </div>
                    <div class="carousel-slide-2">
                        <div class="bg-slate-800/50 rounded-2xl p-4 sm:p-6 border-2 border-green-500 h-full">
                            <div class="mb-3 sm:mb-4">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/armando.png" 
                                     alt="Depoimento Ant√¥nio - Emagreceu 8kg" 
                                     width="600" 
                                     height="400"
                                     loading="lazy"
                                     class="w-full h-auto object-contain rounded-lg"/>
                            </div>
                            <div class="text-center mb-2 sm:mb-3">
                                <span class="text-2xl sm:text-3xl font-bold text-green-400">-8kg em 90 dias</span>
                            </div>
                            <p class="text-sm sm:text-base text-gray-300 mb-3 sm:mb-4 italic">"<strong>Simplesmente acordava com outras atitudes</strong>. Passei a QUERER caminhar. Sem for√ßar nada."</p>
                            <p class="text-xs sm:text-sm text-gray-400">‚Äî Ant√¥nio, 57 anos</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-button-2 prev" aria-label="Depoimento anterior">‚Äπ</button>
                <button class="carousel-button-2 next" aria-label="Pr√≥ximo depoimento">‚Ä∫</button>
                <div class="carousel-dots">
                    <div class="carousel-dot-2 active"></div>
                    <div class="carousel-dot-2"></div>
                    <div class="carousel-dot-2"></div>
                </div>
            </div>
        </div>
    `;
}

        // ========================================
        // RENDER: HOW IT WORKS SECTION
        // ========================================
        function renderHowItWorksSection() {
            return `
                <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 border-2 border-blue-500 rounded-xl p-6 sm:p-8 mb-8">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl sm:text-3xl font-bold text-blue-400 mb-4">
                            üéß Como Funciona na Pr√°tica?
                        </h2>
                        <p class="text-base sm:text-lg text-gray-200 leading-relaxed">
                            Aperte o play e ou√ßa como a metodologia funciona.
                        </p>
                    </div>

                    <!-- Player de √Åudio -->
                    <div class="flex justify-center mb-6">
                        <div class="w-full max-w-2xl bg-slate-800/50 border border-blue-500/30 rounded-lg p-4">
                            <audio controls class="w-full" style="filter: brightness(1.2);">
                                <source src="https://appestoicismo.github.io/emagrecimento/narra√ß√£ovslemagrecimento2.MP3" type="audio/mpeg">
                                Seu navegador n√£o suporta o elemento de √°udio.
                            </audio>
                        </div>
                    </div>

                    <div class="flex justify-center mt-6">
                        <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/4.png" 
                             alt="Como funciona a Hipnose do Emagrecimento" 
                             width="800" 
                             height="600"
                             loading="lazy"
                             class="w-full max-w-2xl h-auto object-contain rounded-lg">
                    </div>
                </div>
            `;
        }

        // ========================================
        // RENDER: RESULT PAGE
        // ========================================
        function renderResultPage() {
            const profileKey = quizData.dietaryProfile || 'emotional';
            const profile = dietaryProfiles[profileKey];
            
            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <div class="container mx-auto px-4 sm:px-6 py-8 sm:py-12">
                        <div class="max-w-4xl mx-auto space-y-6 sm:space-y-8">
                            
                            <!-- PERFIL COMPORTAMENTAL -->
                            <div class="text-center space-y-4 sm:space-y-6 mb-8 sm:mb-12">
                                <div class="inline-block bg-gradient-to-r ${profile.color} p-1 rounded-full mb-3 sm:mb-4">
                                    <div class="bg-slate-900 px-4 py-2 sm:px-6 rounded-full">
                                        <span class="text-white text-xs sm:text-sm font-semibold">Seu Perfil Diet√©tico</span>
                                    </div>
                                </div>
                                
                                <div class="text-5xl sm:text-6xl md:text-7xl mb-3 sm:mb-4">${profile.icon}</div>
                                
                                <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r ${profile.color} bg-clip-text text-transparent px-2">
                                    ${profile.name}
                                </h1>
                                
                                <!-- BOX √öNICO: DESCRI√á√ÉO + TEXTO COMPLEMENTAR -->
                                <div class="bg-slate-800/50 border-2 border-purple-500/50 rounded-xl p-4 sm:p-6 max-w-2xl mx-auto">
                                    <p class="text-base sm:text-lg text-gray-200 leading-relaxed mb-4">
                                        ${profile.description}
                                    </p>
                                    
                                    <div class="border-t border-gray-600 my-4"></div>
                                    
                                    <p class="text-base sm:text-lg text-gray-200 leading-relaxed">
                                        Por isso, nada do que voc√™ tentou at√© agora funcionou: nem dietas restritivas, nem ozempic, nem ch√°s milagrosos, nem academia for√ßada. Enquanto seu <strong>subconsciente</strong> n√£o for reprogramado, o peso <strong>sempre</strong> volta. A boa not√≠cia? Existe um m√©todo que age direto na raiz do problema ‚Äî e √© o mesmo que milhares de pessoas (incluindo famosos) est√£o usando:
                                    </p>
                                </div>
                            </div>

                            <!-- CARROSSEL 1 - FAMOSOS -->
                            ${renderTestimonialsCarousel1()}

                            <!-- CARROSSEL 2 - PESSOAS COMUNS -->
                            ${renderTestimonialsCarousel2()}

                            <!-- COMO FUNCIONA -->
                            ${renderHowItWorksSection()}

                            <!-- CTA FINAL -->
                            <div class="bg-gradient-to-r from-purple-900/50 to-pink-900/50 border-2 border-purple-500 rounded-xl p-6 sm:p-8 text-center">
                                <div class="mb-4 sm:mb-6">
                                    <div class="text-5xl sm:text-6xl mb-4">üîì</div>
                                    <h2 class="text-2xl sm:text-3xl font-bold text-white mb-3">
                                        Voc√™ Tamb√©m Pode Reprogramar Seu C√©rebro
                                    </h2>
                                    <p class="text-base sm:text-lg text-gray-300 mb-6">
                                        Esse <strong class="text-transparent bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text">m√©todo hipn√≥tico</strong> √© o mesmo usado em cl√≠nicas onde terapeutas cobram de R$ 200,00 a R$ 450,00 por cada sess√£o.
                                    </p>
                                </div>

                                <button 
                                    onclick="goToOffer()" 
                                    class="btn btn-2xl bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold pulse-button w-full sm:w-auto text-base sm:text-xl py-5 sm:py-6 px-8 sm:px-12">
                                    üîì O QUE VOU RECEBER
                                </button>
                                
                                <p class="text-xs sm:text-sm text-gray-400 mt-4">
                                    ‚úì Funciona para seu perfil espec√≠fico ‚Ä¢ ‚úì Sem for√ßa de vontade ‚Ä¢ ‚úì Mudan√ßa autom√°tica
                                </p>
                            </div>

                        </div>
                    </div>

                    ${renderFooter()}
                </div>
            `;
        }

        // ========================================
        // RENDER: APP ACCESS SECTION
        // ========================================
        function renderAppAccessSection() {
            return `
                <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 border-2 border-blue-500 rounded-xl p-6 sm:p-8 mb-8">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl sm:text-3xl font-bold text-blue-400 mb-3">
                            üì± O Que Acontece Depois Que Voc√™ Compra
                        </h2>
                        <p class="text-base sm:text-lg text-gray-300">
                            Ap√≥s o pagamento, voc√™ recebe um e-mail com o link do app e come√ßa a ouvir o primeiro √°udio ainda hoje. O m√©todo foi feito para que os resultados comecem a aparecer logo nos primeiros dias.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-6">
                        <!-- Imagem 1 -->
                        <div class="flex flex-col items-center">
                            <div class="bg-slate-900/50 rounded-2xl p-4 border border-blue-400 mb-4 w-full">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/5.png" 
                                     alt="Baixe o App no celular" 
                                     width="400" 
                                     height="600"
                                     loading="lazy"
                                     class="w-full h-auto object-contain rounded-lg mx-auto"
                                     style="max-width: 300px;">
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-3xl sm:text-4xl flex-shrink-0">1Ô∏è‚É£</span>
                                <p class="text-base sm:text-lg text-gray-200 font-medium">
                                    √â s√≥ baixar o App no celular
                                </p>
                            </div>
                        </div>

                        <!-- Imagem 2 -->
                        <div class="flex flex-col items-center">
                            <div class="bg-slate-900/50 rounded-2xl p-4 border border-purple-400 mb-4 w-full">
                                <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/2.png" 
                                     alt="Dar play no √°udio" 
                                     width="400" 
                                     height="600"
                                     loading="lazy"
                                     class="w-full h-auto object-contain rounded-lg mx-auto"
                                     style="max-width: 300px;">
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-3xl sm:text-4xl flex-shrink-0">2Ô∏è‚É£</span>
                                <p class="text-base sm:text-lg text-gray-200 font-medium">
                                    Dar play no seu √°udio e deixar o subconsciente fazer o resto
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-green-900/20 border border-green-500 rounded-lg p-4 text-center">
                        <p class="text-sm sm:text-base text-green-300">
                            ‚úÖ <strong>Interface simples</strong> ‚Ä¢ ‚úÖ <strong>Todos Aparelhos</strong> ‚Ä¢ ‚úÖ <strong>Acesso vital√≠cio</strong>
                        </p>
                    </div>
                </div>
            `;
        }

        // ========================================
        // RENDER: OFFER PAGE
        // ========================================
        function renderOfferPage() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
                    <header class="p-4 sm:p-6">
                        <div class="flex items-center justify-between">
                            <button onclick="goBack()" class="btn btn-outline bg-transparent border-gray-600 text-white hover:bg-gray-800 text-sm sm:text-base">‚Üê Voltar</button>
                            <div class="flex items-center gap-2">
                                <div class="w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" 
                                         alt="Logo" 
                                         width="32" 
                                         height="32"
                                         loading="lazy"
                                         class="w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover">
                                </div>
                               <span class="text-base sm:text-xl font-semibold hidden sm:inline">Hipnose do Emagrecimento</span>
                            </div>
                        </div>
                    </header>

                    <div class="container mx-auto px-4 sm:px-6 py-8 sm:py-12">
                        <div class="max-w-4xl mx-auto space-y-6 sm:space-y-8">
                            
                            <div class="bg-red-900/30 border-2 border-red-500 rounded-xl p-4 sm:p-6 text-center scarcity-pulse">
                                <p class="text-red-300 font-bold text-base sm:text-lg md:text-xl mb-2">
                                    ‚ö†Ô∏è ATEN√á√ÉO: Esta oferta expira em breve
                                </p>
                                <p class="text-sm sm:text-base text-gray-300">
                                    O desconto de 90% est√° dispon√≠vel apenas para quem fez o teste HOJE
                                </p>
                            </div>

                            <div class="text-center space-y-3 sm:space-y-4">
                                <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold px-2">Tudo o que sua mente precisa para come√ßar a emagrecer naturalmente:</h1>
                                <p class="text-lg sm:text-xl md:text-2xl text-yellow-400 font-semibold px-2">
                                    <span class="text-transparent bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text">Hipnose do Emagrecimento</span> ‚Ä¢ M√©todo Completo
                                </p>
                            </div>

                            <div class="bg-slate-800/50 border-2 border-purple-500 rounded-xl p-4 sm:p-8 space-y-4 sm:space-y-6">
                                <div class="space-y-3 sm:space-y-4">
                                    ${renderValueStackItem('üéß', '4 Sess√µes de Hipnose Profunda', 'Voc√™ pode ouvir quando e quantas vezes quiser', 'R$ 197', true)}
                                    ${renderValueStackItem('üî•', 'H√©stia - IA Coach 24/7', 'Suporte ilimitado em toda sua jornada', 'R$ 30/m√™s', true)}
                                    ${renderValueStackItem('üìã', 'Atualiza√ß√µes sem custo', 'Suporte via WhatsApp', 'R$ 47', true)}
                                    ${renderValueStackItem('üß¨', 'B√îNUS: Perfil Comportamental', 'Descubra seus padr√µes inconscientes', 'R$ 19,90', false, true)}
                                    ${renderValueStackItem('üí¨', 'B√îNUS: PNL - Frase do Dia', 'Refor√ßo mental autom√°tico di√°rio', 'R$ 19,90', false, true)}
                                    ${renderValueStackItem('‚è∞', 'Acesso Vital√≠cio ao App', 'Seu para sempre, sem mensalidades', 'Inestim√°vel', true)}
                                </div>

                                <div class="border-t-2 border-purple-500 pt-4 sm:pt-6">
                                    <div class="text-center space-y-3 sm:space-y-4">
                                        <div class="flex items-center justify-center gap-3 sm:gap-4 text-lg sm:text-2xl">
                                            <span class="text-gray-400">Valor Total:</span>
                                            <span class="line-through text-red-400 font-bold">R$ 313,80</span>
                                        </div>
                                        <div class="bg-gradient-to-r from-yellow-900/50 to-orange-900/50 border border-yellow-500 rounded-lg p-4 sm:p-6">
                                            <p class="text-base sm:text-lg text-gray-300 mb-2">Seu Investimento HOJE:</p>
                                            <p class="text-4xl sm:text-5xl md:text-6xl font-bold text-green-400 mb-2">R$ 37,90</p>
                                            <p class="text-yellow-400 font-semibold text-lg sm:text-xl">Economia de 90%</p>
                                            <p class="text-xs sm:text-sm text-gray-400 mt-2">Pagamento √∫nico ‚Ä¢ Sem mensalidades ‚Ä¢ Acesso vital√≠cio</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-green-900/30 border-2 border-green-600 rounded-xl p-4 sm:p-6">
                                <div class="flex flex-col md:flex-row items-center gap-4 sm:gap-6">
                                    <div class="text-5xl sm:text-6xl flex-shrink-0">üõ°Ô∏è</div>
                                    <div class="flex-1 text-center md:text-left">
                                        <h3 class="text-xl sm:text-2xl font-bold text-green-400 mb-2 sm:mb-3">
                                            Garantia Incondicional de 7 Dias
                                        </h3>
                                        <p class="text-sm sm:text-base md:text-lg text-gray-300">
                                            Se voc√™ n√£o sentir que seus h√°bitos est√£o mudando nos primeiros 7 dias, devolvemos <strong>cada centavo</strong>. Sem perguntas, sem burocracia.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center space-y-4 sm:space-y-6">
                                <button onclick="handleCheckout()" class="btn btn-2xl w-full max-w-2xl mx-auto bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold py-5 sm:py-8 pulse-button shadow-2xl leading-tight">
                                    <span class="text-base sm:text-xl md:text-2xl">
                                        üîì Quero Come√ßar Minha Reprograma√ß√£o<span class="hidden sm:inline"> Agora</span>
                                    </span>
                                </button>
                                <p class="text-xs sm:text-sm text-gray-400">Acesso imediato ap√≥s confirma√ß√£o do pagamento</p>
                                
                                <div class="flex flex-wrap justify-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-400">
                                    <span class="flex items-center gap-1 sm:gap-2">
                                        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-green-400 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                                        <span>Pagamento 100% Seguro</span>
                                    </span>
                                    <span class="flex items-center gap-1 sm:gap-2">
                                        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-green-400 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                                        <span>Garantia de 7 Dias</span>
                                    </span>
                                </div>
                            </div>

                            <!-- SE√á√ÉO: VOC√ä ACESSA PELO NOSSO APLICATIVO -->
                            ${renderAppAccessSection()}

                            <div class="bg-slate-800/30 border border-slate-700 rounded-xl p-4 sm:p-8">
                                <h3 class="text-xl sm:text-2xl font-bold text-center mb-6 sm:mb-8 px-2">Perguntas Frequentes</h3>
                                
                                <div class="space-y-4 sm:space-y-6">
                                    <div class="border-b border-slate-700 pb-3 sm:pb-4">
                                        <p class="font-semibold text-base sm:text-lg mb-2">‚ùì Hipnose funciona mesmo?</p>
                                        <p class="text-sm sm:text-base text-gray-300">Sim. Estudos mostram que hipnose pode ser 3X mais eficaz que m√©todos tradicionais porque acessa o subconsciente onde est√£o seus h√°bitos autom√°ticos.</p>
                                    </div>
                                    
                                    <div class="border-b border-slate-700 pb-3 sm:pb-4">
                                        <p class="font-semibold text-base sm:text-lg mb-2">‚ùì Preciso de fone de ouvido?</p>
                                        <p class="text-sm sm:text-base text-gray-300">Recomendamos usar fones para melhor imers√£o, mas n√£o √© obrigat√≥rio. Qualquer ambiente tranquilo funciona.</p>
                                    </div>
                                    
                                    <div class="border-b border-slate-700 pb-3 sm:pb-4">
                                        <p class="font-semibold text-base sm:text-lg mb-2">‚ùì Quanto tempo por dia?</p>
                                        <p class="text-sm sm:text-base text-gray-300">Apenas 15 minutos por dia durante 21 dias. Pode ser antes de dormir, ao acordar, ou em qualquer momento tranquilo do seu dia.</p>
                                    </div>
                                    
                                    <div class="border-b border-slate-700 pb-3 sm:pb-4">
                                        <p class="font-semibold text-base sm:text-lg mb-2">‚ùì √â seguro?</p>
                                        <p class="text-sm sm:text-base text-gray-300">Totalmente. A hipnose √© apenas um estado profundo de relaxamento guiado. Voc√™ sempre mant√©m controle e pode interromper a qualquer momento.</p>
                                    </div>
                                    
                                    <div class="border-b border-slate-700 pb-3 sm:pb-4">
                                        <p class="font-semibold text-base sm:text-lg mb-2">‚ùì Funciona para qualquer idade?</p>
                                        <p class="text-sm sm:text-base text-gray-300">Sim! O m√©todo funciona para adultos de todas as idades. J√° temos casos de sucesso de pessoas de 25 a 70 anos.</p>
                                    </div>
                                    
                                    <div>
                                        <p class="font-semibold text-base sm:text-lg mb-2">‚ùì E se eu n√£o gostar?</p>
                                        <p class="text-sm sm:text-base text-gray-300">Voc√™ tem 7 dias de garantia total. Se n√£o estiver satisfeito, devolvemos 100% do seu dinheiro sem perguntas.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center space-y-4 sm:space-y-6 pt-4 sm:pt-8">
                                <p class="text-xl sm:text-2xl font-bold text-yellow-400 px-2">
                                    ‚ö†Ô∏è Esta oferta de R$ 37,90 expira em breve
                                </p>
                                <button onclick="handleCheckout()" class="btn btn-2xl w-full max-w-2xl mx-auto bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold py-5 sm:py-8 pulse-button shadow-2xl leading-tight">
                                    <span class="text-base sm:text-xl md:text-2xl">
                                        üîì Come√ßar Minha Reprograma√ß√£o
                                    </span>
                                </button>
                                <p class="text-xs sm:text-sm text-gray-400">Acesso imediato ‚Ä¢ Sem mensalidades ‚Ä¢ Garantia de 7 dias</p>
                            </div>

                        </div>
                    </div>

                    ${renderFooter()}
                </div>
            `;
        }

        // ========================================
        // HELPER: VALUE STACK ITEM
        // ========================================
        function renderValueStackItem(icon, title, description, value, isIncluded, isBonus = false) {
            const bgClass = isBonus ? 'bg-purple-900/30 border border-purple-500' : 'bg-slate-900/50';
            const valueClass = isBonus ? 'line-through text-purple-400' : 'text-green-400';
            
            return `
                <div class="flex items-center justify-between ${bgClass} p-3 sm:p-4 rounded-lg">
                    <div class="flex items-center gap-2 sm:gap-3 flex-1">
                        <span class="text-2xl sm:text-3xl flex-shrink-0">${icon}</span>
                        <div class="flex-1">
                            <p class="font-semibold text-sm sm:text-base md:text-lg">${title}</p>
                            <p class="text-xs sm:text-sm text-gray-400">${description}</p>
                        </div>
                    </div>
                    <div class="text-right flex-shrink-0 ml-2 sm:ml-4">
                        <span class="${valueClass} font-bold text-sm sm:text-base">${value}</span>
                        ${isBonus ? '<div class="text-xs text-purple-300 mt-1">GR√ÅTIS HOJE</div>' : ''}
                    </div>
                </div>
            `;
        }

        // ========================================
        // HELPER: FOOTER
        // ========================================
        function renderFooter() {
            return `
                <footer class="footer-improved py-6 sm:py-8 mt-8 sm:mt-12">
                    <div class="container mx-auto px-4 sm:px-6">
                        <div class="flex flex-wrap justify-between items-center mb-4 sm:mb-6">
                            <div class="flex items-center gap-2 mb-4 lg:mb-0">
                                <div class="w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <img loading="lazy"
                             src="https://raw.githubusercontent.com/appestoicismo/emagrecimento/refs/heads/main/AppAutoconhecimento.jpg" 
                                         alt="Logo Hipnose do Emagrecimento" 
                                         width="32" 
                                         height="32"
                                         loading="lazy"
                                         class="w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover">
                                </div>
                                <span class="text-lg sm:text-xl font-semibold footer-text-primary">Hipnose do Emagrecimento</span>
                            </div>
                            <div class="flex flex-wrap gap-4 sm:gap-6 text-xs sm:text-sm">
                                <a href="#" class="hover:text-white transition-colors">Hipnoterapeuta respons√°vel: Alex Andreoli Dantas</a>
                                <a href="https://wa.me/5519974010028" target="_blank" rel="noopener noreferrer" class="hover:text-white transition-colors">WhatsApp: (19) 97401-0028</a>
                            </div>
                        </div>
                        <div class="pt-4 border-t border-purple-800 flex flex-col sm:flex-row justify-between gap-2 sm:gap-4 text-xs sm:text-sm footer-text-secondary">
                            <p>¬© 2025 Hipnose do Emagrecimento. Todos os direitos reservados.</p>
                            <p>Aviso: N√£o substitui acompanhamento m√©dico e medicamentos.</p>
                        </div>
                    </div>
                </footer>
            `;
        }

        // ========================================
        // RENDER APP - CONTROLADOR PRINCIPAL
        // ========================================
        function renderApp() {
            const app = document.getElementById('app');
            
            switch (currentStep) {
                case 'home':
                    app.innerHTML = renderHomePage();
                    break;
                case 'quiz':
                    app.innerHTML = renderQuizPage();
                    break;
                case 'followup':
                    app.innerHTML = renderFollowUpPage();
                    break;
                case 'result':
                    app.innerHTML = renderResultPage();
                    setTimeout(() => {
                        initCarousel();
                        initCarousel2();
                    }, 100);
                    break;
                case 'offer':
                    app.innerHTML = renderOfferPage();
                    break;
                default:
                    app.innerHTML = renderHomePage();
            }
        }

        // ========================================
        // INITIALIZE APP
        // ========================================
        document.addEventListener('DOMContentLoaded', function() {
            initUTMTracker();
            renderApp();
            console.log('‚úÖ App inicializado com sucesso!');
            console.log('üéØ Fun√ß√£o goToOffer dispon√≠vel:', typeof window.goToOffer === 'function');
        });
    </script>
</body>
</html>
